webpackJsonp([1],{"/+E+":function(t,e){},"0JEe":function(t,e,i){"use strict";(function(t){var a=i("woOf"),s=i.n(a),n=i("gyMJ");e.a={data:function(){return{editor:null,imgUrl:null,activityLinkVisible:!1,addActivityLink:{name:null,link:null,imgUrl:null,remark:null},addActivityLinkRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],imgUrl:[{required:!0,message:"请添加封面图",trigger:"blur"}],link:[{required:!0,message:"请输入链接",trigger:"blur"}],remark:[{required:!0,message:"请输入描述",trigger:"blur"}]},addLoading:!1,activityList:[],listLoading:!1,activityType:"list",addActivity:{name:null,age:null,zc:null,ksl:null,sc:null,intro:null},addActivityRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],age:[{required:!0,message:"请输入适合年龄",trigger:"blur"}],zc:[{required:!0,message:"请输入地点",trigger:"blur"}],ksl:[{required:!0,message:"请输入内容",trigger:"blur"}],sc:[{required:!0,message:"请输入内容",trigger:"blur"}],intro:[{required:!0,message:"请输入内容",trigger:"blur"}]},uploadUrl:t.UPLOADURL,page:1,pageSize:10,total:0}},created:function(){this.getActivityList()},methods:{getActivityList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=e,this.listLoading=!0,n.a.openCourseList({page:this.page,pageSize:this.pageSize}).then(function(e){t.activityList=e.data.array,t.total=e.data.total,t.listLoading=!1})},handleAddActivity:function(){this.activityType="add",this.addActivity={name:null,age:null,zc:null,ksl:null,sc:null,intro:null},this.imgUrl=null,this.$refs.addActivity.resetFields()},handleAddActivityLink:function(){this.imgUrl=null,this.addActivityLink={name:null,link:null,imgUrl:null,remark:null},this.activityLinkVisible=!0},addActivityLinkSubmit:function(){var t=this;this.addActivityLink.imgUrl=this.imgUrl,this.$refs.activityLink.validate(function(e){if(e){t.addLoading=!0;var i=s()({},t.addActivityLink);t.addActivityLink.activityId?n.a.openCalzzLinkEdit(i).then(function(e){"succ"===e.status?(t.addLoading=!1,t.$notify({message:"修改课程链接成功",type:"success"}),t.$refs.activityLink.resetFields(),t.activityLinkVisible=!1,t.getActivityList(t.page)):t.$notify({message:e.message,type:"error",duration:0})}):n.a.openCalzzLinkAdd(i).then(function(e){"succ"===e.status?(t.addLoading=!1,t.$notify({message:"添加课程链接成功",type:"success"}),t.$refs.activityLink.resetFields(),t.activityLinkVisible=!1,t.getActivityList(t.page)):t.$notify({message:e.message,type:"error",duration:0})})}})},delActivity:function(t){var e=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){e.listLoading=!0,n.a.openCourseDel({showId:t}).then(function(t){e.listLoading=!1,e.getActivityList()})}).catch(function(){})},editActivityLink:function(t){this.addActivityLink={showId:t.id,name:t.name,link:t.link,imgUrl:t.imgUrl,remark:t.remark},this.imgUrl=t.imgUrl,this.addActivityLink.imgUrl=t.imgUrl,this.addActivity.imgUrl=t.imgUrl,this.activityLinkVisible=!0},editActivity:function(t){this.addActivity={showId:t.id,name:t.name,age:t.age,ksl:t.ksl,sc:t.sc,zc:t.zc,intro:t.intro},this.imgUrl=t.coverUrl,this.addActivityLink.imgUrl=t.coverUrl,this.addActivity.imgUrl=t.coverUrl,this.activityType="edit"},goBack:function(){this.activityType="list",this.addActivity={name:null,time:null,address:null,content:null,videoUrl:null,remark:null}},handleAvatarSuccess:function(t,e){this.imgUrl=e.response},beforeAvatarUpload:function(t){var e=t.size/1024/1024<2;return e||this.$message.error("上传头像图片大小不能超过 2MB!"),e},createActivity:function(){var t=this;this.addActivity.coverUrl=this.imgUrl,this.$refs.addActivity.validate(function(e){if(e){t.addLoading=!0;var i=s()({},t.addActivity);t.addActivity.showId?n.a.openCourseEdit(i).then(function(e){t.addLoading=!1,t.$notify({message:"修改课程成功",type:"success"}),t.$refs.addActivity.resetFields(),t.activityType="list",t.getActivityList()}):n.a.openCourseAdd(i).then(function(e){t.addLoading=!1,t.$notify({message:"添加课程成功",type:"success"}),t.$refs.addActivity.resetFields(),t.activityType="list",t.getActivityList()})}})},handleSizeChange:function(t){this.getActivityList(t)},handleCurrentChange:function(t){this.getActivityList(t)}}}}).call(e,i("DuR2"))},"0zIc":function(t,e){},"27rY":function(t,e){},"46F4":function(t,e){},BfUi:function(t,e,i){(function(t){t.UPLOADURL="http://api.twyxedu.com//api/upload"}).call(e,i("DuR2"))},E9Qy:function(t,e){},EJnm:function(t,e){},IrbT:function(t,e){},IsdX:function(t,e){},JgwY:function(t,e,i){t.exports=i.p+"static/img/url_help.0a5225e.jpg"},LqxL:function(t,e){},N9mO:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view")],1)],1)},staticRenderFns:[]};var n=i("VU/8")({name:"App"},s,!1,function(t){i("QS5Q")},null,null).exports,r=i("/ocq"),l=i("mvHQ"),o=i.n(l),d=i("gyMJ"),c={name:"login",data:function(){return{loginForm:{username:"",password:""},loginRules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},pwdType:"password",loading:!1,showDialog:!1}},methods:{showPwd:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},handleLogin:function(){var t=this;this.$refs.loginForm.validate(function(e){if(!e)return!1;t.loading=!0,d.a.login(t.loginForm).then(function(e){if("succ"===e.status){t.loading=!1;var a=e.message,s=e.code,n=e.data;if(2e4!==s)t.$message({message:a,type:"error"});else if(sessionStorage.setItem("user",o()(n)),"superadmin"===n.role)t.$router.push({path:"/school/list"});else if("orgadmin"===n.role)t.$router.push({path:"/org/setting"});else if("teacher"===n.role){var r=[];n.clazzs.length>0&&(n.clazzs.forEach(function(t,e){r.push({path:"/clazz/"+t.id,name:t.name,type:"teacher",component:i("TSSa").default})}),t.$router.options.routes[9].children=r,t.$router.addRoutes(t.$router.options.routes),t.$router.push({path:"/clazz/"+n.clazzs[0].id}))}}else t.loading=!1,t.$notify({message:e.message,type:"error",duration:0})})})}}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login-container"},[i("el-form",{ref:"loginForm",staticClass:"card-box login-form",attrs:{autoComplete:"on",model:t.loginForm,rules:t.loginRules,"label-position":"left"}},[i("h3",{staticClass:"title"},[t._v("宁波天唯艺星教育"),i("br"),t._v("后台管理系统")]),t._v(" "),i("el-form-item",{attrs:{prop:"username"}},[i("el-input",{attrs:{name:"username",type:"text",autoComplete:"on",placeholder:"账号"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),t._v(" "),i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{attrs:{name:"password",type:t.pwdType,autoComplete:"on",placeholder:"密码"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleLogin(e):null}},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),t._v(" "),i("el-button",{staticClass:"btn-login",attrs:{type:"primary",loading:t.loading},nativeOn:{click:function(e){return e.preventDefault(),t.handleLogin(e)}}},[t._v("登  录")])],1),t._v(" "),i("div",{staticClass:"bg-img"})],1)},staticRenderFns:[]};var p=i("VU/8")(c,u,!1,function(t){i("p+ZY")},"data-v-7714c0f2",null).exports,m={data:function(){return{sysName:"宁波天唯艺星教育",roleName:"",collapsed:!1,sysUserName:"",sysUserAvatar:"",roleType:"superadmin",form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}}},methods:{onSubmit:function(){console.log("submit!")},handleselect:function(t,e){},logout:function(){var t=this;this.$confirm("确认退出吗?","提示",{}).then(function(){sessionStorage.removeItem("user"),t.$router.push("/login")}).catch(function(){})},collapse:function(){this.collapsed=!this.collapsed},showMenu:function(t,e){this.$refs.menuCollapsed.getElementsByClassName("submenu-hook-"+t)[0].style.display=e?"block":"none"}},mounted:function(){var t=sessionStorage.getItem("user");t&&(t=JSON.parse(t),this.sysUserName=t.name||"",this.sysUserAvatar=t.avatar||"",this.roleType=t.role||"superadmin","superadmin"===t.role?this.roleName="全站管理":"orgadmin"===t.role?this.roleName="网点管理员":"teacher"===t.role&&(this.roleName="普通老师"))}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"container"},[a("el-col",{staticClass:"header",attrs:{span:24}},[a("el-col",{staticClass:"logo",class:t.collapsed?"logo-collapse-width":"logo-width",attrs:{span:14}},[a("img",{attrs:{src:i("Vpqn")}}),t._v("\n      "+t._s(t.collapsed?"":t.sysName)+"\n\n      "),a("span",{staticClass:"role-name"},[t._v(t._s(t.roleName))])]),t._v(" "),a("el-col",{staticClass:"userinfo",attrs:{span:10}},[t._v("\n      "+t._s(t.sysUserName)+" "),a("div",{staticClass:"logout",on:{click:t.logout}},[t._v("退出登录")])])],1),t._v(" "),a("el-col",{staticClass:"main",attrs:{span:24}},[a("aside",{class:t.collapsed?"menu-collapsed":"menu-expanded"},[a("el-menu",{directives:[{name:"show",rawName:"v-show",value:!t.collapsed,expression:"!collapsed"}],staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.$route.path,"unique-opened":"",router:""},on:{select:t.handleselect}},[t._l(t.$router.options.routes,function(e,i){return e.type!=t.roleType||e.hidden?t._e():[e.leaf?t._e():a("el-submenu",{key:i,attrs:{index:i+""}},[a("template",{slot:"title"},[t._v(t._s(e.name))]),t._v(" "),t._l(e.children,function(e){return e.hidden?t._e():a("el-menu-item",{key:e.path,attrs:{index:e.path}},[t._v(t._s(e.name))])})],2),t._v(" "),e.leaf&&e.children.length>0?a("el-menu-item",{key:i,attrs:{index:e.children[0].path}},[t._v("\n            "+t._s(e.children[0].name)+"\n          ")]):t._e()]})],2),t._v(" "),a("ul",{directives:[{name:"show",rawName:"v-show",value:t.collapsed,expression:"collapsed"}],ref:"menuCollapsed",staticClass:"el-menu el-menu-vertical-demo collapsed"},t._l(t.$router.options.routes,function(e,i){return e.hidden?t._e():a("li",{key:i,staticClass:"el-submenu item"},[e.leaf?[a("li",{staticClass:"el-submenu"},[a("div",{staticClass:"el-submenu__title el-menu-item",class:t.$route.path==e.children[0].path?"is-active":"",staticStyle:{"padding-left":"20px",height:"56px","line-height":"56px",padding:"0 20px"},on:{click:function(i){t.$router.push(e.children[0].path)}}},[a("i",{class:e.iconCls})])])]:[a("div",{staticClass:"el-submenu__title",staticStyle:{"padding-left":"20px"},on:{mouseover:function(e){t.showMenu(i,!0)},mouseout:function(e){t.showMenu(i,!1)}}}),t._v(" "),a("ul",{staticClass:"el-menu submenu",class:"submenu-hook-"+i,on:{mouseover:function(e){t.showMenu(i,!0)},mouseout:function(e){t.showMenu(i,!1)}}},t._l(e.children,function(e){return e.hidden?t._e():a("li",{key:e.path,staticClass:"el-menu-item",class:t.$route.path==e.path?"is-active":"",staticStyle:{"padding-left":"40px"},on:{click:function(i){t.$router.push(e.path)}}},[t._v(t._s(e.name))])}))]],2)}))],1),t._v(" "),a("section",{staticClass:"content-container"},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-col",{staticClass:"breadcrumb-container",attrs:{span:24}},[a("strong",{staticClass:"title"},[t._v(t._s(t.$route.name))])]),t._v(" "),a("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)],1)])])],1)},staticRenderFns:[]};var g=i("VU/8")(m,v,!1,function(t){i("SHTk")},"data-v-f46740e0",null).exports,f=i("woOf"),h=i.n(f),y={data:function(){return{filters:{name:""},orgList:[],total:0,page:1,listLoading:!1,sels:[],editFormVisible:!1,editLoading:!1,editFormRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}]},editForm:{name:"",address:"",telphone:null,adminname:"",password:""},addFormVisible:!1,addLoading:!1,addFormRules:{name:[{required:!0,message:"请输入网点名称",trigger:"blur"}],address:[{required:!0,message:"请输入网点地址",trigger:"blur"}],telphone:[{required:!0,message:"请输入联系电话",trigger:"blur"}],adminname:[{required:!0,message:"请输入管理员账号",trigger:"blur"}],password:[{required:!0,message:"请输入管理员密码",trigger:"blur"}]},addForm:{name:"",address:"",telphone:null,adminname:"",password:""}}},methods:{changeOrgStatus:function(t){var e=this;d.a.orgPub({groupId:t.groupId,status:t.ispublic}).then(function(t){console.log(t),"succ"===t.status?e.$notify({message:"设置网点状态成功",type:"success"}):e.$notify({message:t.message,type:"error",duration:0})})},getOrgList:function(){var t=this;this.listLoading=!0,d.a.orgListPage().then(function(e){t.orgList=e.data.array,t.listLoading=!1})},handleDel:function(t,e){var i=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){i.listLoading=!0,d.a.orgDel({groupId:e.groupId}).then(function(t){i.listLoading=!1,i.getOrgList()})}).catch(function(){})},handleEdit:function(t,e){this.editFormVisible=!0,this.editForm={groupId:this.orgList[t].groupId,name:this.orgList[t].name,address:this.orgList[t].address,telphone:this.orgList[t].telphone,adminname:this.orgList[t].adminName,password:this.orgList[t].adminPwd}},handleAdd:function(){this.addFormVisible=!0},editSubmit:function(){var t=this;this.$refs.editForm.validate(function(e){if(e){t.editLoading=!0;var i=h()({},t.editForm);d.a.orgEdit(i).then(function(e){t.editLoading=!1,t.$notify({message:"修改信息成功",type:"success"}),t.$refs.editForm.resetFields(),t.editFormVisible=!1,t.getOrgList()})}})},addSubmit:function(){var t=this;this.$refs.addForm.validate(function(e){if(e){t.addLoading=!0;var i=h()({},t.addForm);d.a.orgCreate(i).then(function(e){"succ"===e.status?(t.addLoading=!1,t.$notify({message:"添加网点成功",type:"success"}),t.$refs.addForm.resetFields(),t.addFormVisible=!1,t.getOrgList()):t.$message({message:e.message,type:"error",duration:0})})}})},selsChange:function(t){this.sels=t}},mounted:function(){this.getOrgList()}},b={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleAdd}},[t._v("添加网点")])],1),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"ctable",staticStyle:{width:"100%"},attrs:{data:t.orgList,stripe:"",border:"","highlight-current-row":""},on:{"selection-change":t.selsChange}},[i("el-table-column",{attrs:{prop:"indexOrder",label:"序号",width:"100"}}),t._v(" "),i("el-table-column",{attrs:{prop:"name",label:"网点",sortable:""}}),t._v(" "),i("el-table-column",{attrs:{prop:"adminName",label:"管理员账号",sortable:""}}),t._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-checkbox",{on:{change:function(i){t.changeOrgStatus(e.row)}},model:{value:e.row.ispublic,callback:function(i){t.$set(e.row,"ispublic",i)},expression:"scope.row.ispublic"}},[t._v("公开")]),t._v(" "),i("a",{staticClass:"btn-option",attrs:{hrefr:"javascript:;"},on:{click:function(i){t.handleDel(e.$index,e.row)}}},[t._v("删除")]),t._v(" "),i("a",{staticClass:"btn-option",attrs:{hrefr:"javascript:;"},on:{click:function(i){t.handleEdit(e.$index,e.row)}}},[t._v("信息编辑")])]}}])})],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑网点",visible:t.editFormVisible,"close-on-click-modal":!1,width:"480px"},on:{"update:visible":function(e){t.editFormVisible=e}}},[i("el-form",{ref:"editForm",attrs:{model:t.editForm,"label-width":"100px",rules:t.editFormRules}},[i("el-form-item",{attrs:{label:"网点名称",prop:"name"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.name,callback:function(e){t.$set(t.editForm,"name",e)},expression:"editForm.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"网点地址",prop:"address"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.address,callback:function(e){t.$set(t.editForm,"address",e)},expression:"editForm.address"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"联系电话",prop:"telphone"}},[i("el-input",{model:{value:t.editForm.telphone,callback:function(e){t.$set(t.editForm,"telphone",e)},expression:"editForm.telphone"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"管理员账号",prop:"adminname"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.adminname,callback:function(e){t.$set(t.editForm,"adminname",e)},expression:"editForm.adminname"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"管理员密码",prop:"password"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.password,callback:function(e){t.$set(t.editForm,"password",e)},expression:"editForm.password"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(e){t.editFormVisible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.editLoading},nativeOn:{click:function(e){return t.editSubmit(e)}}},[t._v("提交")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"添加网点",visible:t.addFormVisible,"close-on-click-modal":!1,width:"480px"},on:{"update:visible":function(e){t.addFormVisible=e}}},[i("el-form",{ref:"addForm",attrs:{model:t.addForm,"label-width":"100px",rules:t.addFormRules}},[i("el-form-item",{attrs:{label:"网点名称",prop:"name"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"网点地址",prop:"address"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.address,callback:function(e){t.$set(t.addForm,"address",e)},expression:"addForm.address"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"联系电话",prop:"telphone"}},[i("el-input",{model:{value:t.addForm.telphone,callback:function(e){t.$set(t.addForm,"telphone",e)},expression:"addForm.telphone"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"管理员账号",prop:"adminname"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.adminname,callback:function(e){t.$set(t.addForm,"adminname",e)},expression:"addForm.adminname"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"管理员密码",prop:"password"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.addForm.password,callback:function(e){t.$set(t.addForm,"password",e)},expression:"addForm.password"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(e){t.addFormVisible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.addLoading},nativeOn:{click:function(e){return t.addSubmit(e)}}},[t._v("保存")])],1)],1)],1)},staticRenderFns:[]};var _=i("VU/8")(y,b,!1,function(t){i("/+E+")},"data-v-01cfbc8e",null).exports,k=i("s+f2"),C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",["list"==t.activityType?a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleAddActivity}},[t._v("添加艺星之路")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleAddActivityLink}},[t._v("添加艺星之路链接")])],1):a("el-col",{staticClass:"toolbar txt-right",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.goBack}},[t._v("取消返回")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.createActivity}},[t._v("发布")])],1),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:"list"==t.activityType,expression:"activityType == 'list'"}],attrs:{loading:t.listLoading}},[t.activityList.length>0?a("div",[a("ul",{staticClass:"activity-list"},t._l(t.activityList,function(e,i){return a("li",{key:i},[2==e.type?a("div",[a("div",{staticClass:"edit-wrap"},[a("span",{on:{click:function(i){t.delActivity(e.id)}}},[t._v("删除")]),t._v(" "),a("span",{on:{click:function(i){t.editActivityLink(e)}}},[t._v("编辑查看")])]),t._v(" "),a("p",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),a("p",{staticClass:"plink"},[t._v("链接: "),a("a",{attrs:{href:e.link,target:"view_window"}},[t._v(t._s(e.link))])])]):a("div",{},[a("div",{staticClass:"edit-wrap"},[a("span",{on:{click:function(i){t.delActivity(e.id)}}},[t._v("删除")]),t._v(" "),a("span",{on:{click:function(i){t.editActivity(e)}}},[t._v("编辑查看")])]),t._v(" "),a("p",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),a("p",[t._v("发布时间："+t._s(e.time))]),t._v(" "),a("p",[t._v("地点："+t._s(e.address))]),t._v(" "),a("p",{staticClass:"desc"},[t._v("内容："+t._s(e.remark))])])])})),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]):a("div",{staticClass:"no-data"},[t._v("暂无数据")])]),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:"list"!==t.activityType,expression:"activityType !== 'list'"}],attrs:{loading:t.listLoading}},[a("el-form",{ref:"addActivity",attrs:{model:t.addActivity,"label-width":"100px",rules:t.addActivityRules}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入名称"},model:{value:t.addActivity.name,callback:function(e){t.$set(t.addActivity,"name",e)},expression:"addActivity.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"封面图",prop:"imgUrl"}},[a("el-upload",{staticClass:"avatar-uploader cover-uploader",attrs:{action:t.uploadUrl,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imgUrl?a("img",{staticClass:"avatar",attrs:{src:t.imgUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon cover-uploader-icon"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"时间",prop:"time"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入时间"},model:{value:t.addActivity.time,callback:function(e){t.$set(t.addActivity,"time",e)},expression:"addActivity.time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"地点",prop:"address"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入地点"},model:{value:t.addActivity.address,callback:function(e){t.$set(t.addActivity,"address",e)},expression:"addActivity.address"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("script",{staticClass:"ue-content",attrs:{id:"ueditor",name:"ueditor",type:"text/plain"}})]),t._v(" "),a("el-form-item",{attrs:{label:"视频",prop:"videoUrl"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入视频"},model:{value:t.addActivity.videoUrl,callback:function(e){t.$set(t.addActivity,"videoUrl",e)},expression:"addActivity.videoUrl"}})],1),t._v(" "),a("p",{staticClass:"add-tip"},[t._v("提示：视频请先上传到优酷等平台，然后把通用代码复制拷贝到上方")]),t._v(" "),a("img",{staticStyle:{width:"213px",height:"241px","margin-left":"100px"},attrs:{src:i("JgwY")}})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"添加链接",visible:t.activityLinkVisible,"close-on-click-modal":!1,width:"480px"},on:{"update:visible":function(e){t.activityLinkVisible=e}}},[a("el-form",{ref:"activityLink",attrs:{model:t.addActivityLink,"label-width":"100px",rules:t.addActivityLinkRules}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入"},model:{value:t.addActivityLink.name,callback:function(e){t.$set(t.addActivityLink,"name",e)},expression:"addActivityLink.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"封面图",prop:"imgUrl"}},[a("el-upload",{staticClass:"avatar-uploader cover-uploader",attrs:{action:t.uploadUrl,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imgUrl?a("img",{staticClass:"avatar",attrs:{src:t.imgUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon cover-uploader-icon"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"链接",prop:"link"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入链接"},model:{value:t.addActivityLink.link,callback:function(e){t.$set(t.addActivityLink,"link",e)},expression:"addActivityLink.link"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:3,"auto-complete":"off",placeholder:"请输入描述"},model:{value:t.addActivityLink.remark,callback:function(e){t.$set(t.addActivityLink,"remark",e)},expression:"addActivityLink.remark"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(e){t.activityLinkVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.addLoading},nativeOn:{click:function(e){return t.addActivityLinkSubmit(e)}}},[t._v("保存")])],1)],1)],1)},staticRenderFns:[]};var L=function(t){i("N9mO")},z=i("VU/8")(k.a,C,!1,L,"data-v-08c76302",null).exports,w=i("hkUs"),A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",["list"==t.activityType?a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleAddActivity}},[t._v("添加活动公告")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleAddActivityLink}},[t._v("添加活动公告链接")])],1):a("el-col",{staticClass:"toolbar txt-right",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.goBack}},[t._v("取消返回")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.createActivity}},[t._v("发布")])],1),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:"list"==t.activityType,expression:"activityType == 'list'"}],attrs:{loading:t.listLoading}},[t.activityList.length>0?a("div",[a("ul",{staticClass:"activity-list"},t._l(t.activityList,function(e,i){return a("li",{key:i},[2==e.type?a("div",[a("div",{staticClass:"edit-wrap"},[a("span",{on:{click:function(i){t.delActivity(e.id)}}},[t._v("删除")]),t._v(" "),a("span",{on:{click:function(i){t.editActivityLink(e)}}},[t._v("编辑查看")])]),t._v(" "),a("p",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),a("p",[t._v("发布时间："+t._s(e.createTime))]),t._v(" "),a("p",{staticClass:"plink"},[t._v("链接："),a("a",{attrs:{href:e.link,target:"view_window"}},[t._v(t._s(e.link))])])]):a("div",{},[a("div",{staticClass:"edit-wrap"},[a("span",{on:{click:function(i){t.delActivity(e.id)}}},[t._v("删除")]),t._v(" "),a("span",{on:{click:function(i){t.editActivity(e)}}},[t._v("编辑查看")])]),t._v(" "),a("p",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),a("p",[t._v("发布时间："+t._s(e.createTime))]),t._v(" "),a("p",{staticClass:"desc"},[t._v("内容："+t._s(e.remark))])])])})),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]):a("div",{staticClass:"no-data"},[t._v("暂无数据")])]),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:"list"!=t.activityType,expression:"activityType != 'list'"}],attrs:{loading:t.listLoading}},[a("el-form",{ref:"addActivity",attrs:{model:t.addActivity,"label-width":"100px",rules:t.addActivityRules}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入活动名称"},model:{value:t.addActivity.name,callback:function(e){t.$set(t.addActivity,"name",e)},expression:"addActivity.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"封面图",prop:"imgUrl"}},[a("el-upload",{staticClass:"avatar-uploader cover-uploader",attrs:{action:t.uploadUrl,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imgUrl?a("img",{staticClass:"avatar",attrs:{src:t.imgUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon cover-uploader-icon"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("script",{staticClass:"ue-content",attrs:{id:"ueditor",name:"ueditor",type:"text/plain"}})]),t._v(" "),a("el-form-item",{attrs:{label:"视频",prop:"videoUrl"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入活动视频"},model:{value:t.addActivity.videoUrl,callback:function(e){t.$set(t.addActivity,"videoUrl",e)},expression:"addActivity.videoUrl"}})],1),t._v(" "),a("p",{staticClass:"add-tip"},[t._v("提示：视频请先上传到优酷等平台，然后把通用代码复制拷贝到上方")]),t._v(" "),a("img",{staticStyle:{width:"213px",height:"241px","margin-left":"100px"},attrs:{src:i("JgwY")}})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"添加活动公告链接",visible:t.activityLinkVisible,"close-on-click-modal":!1,width:"480px"},on:{"update:visible":function(e){t.activityLinkVisible=e}}},[a("el-form",{ref:"activityLink",attrs:{model:t.addActivityLink,"label-width":"100px",rules:t.addActivityLinkRules}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入"},model:{value:t.addActivityLink.name,callback:function(e){t.$set(t.addActivityLink,"name",e)},expression:"addActivityLink.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"封面图",prop:"imgUrl"}},[a("el-upload",{staticClass:"avatar-uploader cover-uploader",attrs:{action:t.uploadUrl,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imgUrl?a("img",{staticClass:"avatar",attrs:{src:t.imgUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon cover-uploader-icon"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"链接",prop:"link"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入链接"},model:{value:t.addActivityLink.link,callback:function(e){t.$set(t.addActivityLink,"link",e)},expression:"addActivityLink.link"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:3,"auto-complete":"off",placeholder:"请输入描述"},model:{value:t.addActivityLink.remark,callback:function(e){t.$set(t.addActivityLink,"remark",e)},expression:"addActivityLink.remark"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(e){t.activityLinkVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.addLoading},nativeOn:{click:function(e){return t.addActivityLinkSubmit(e)}}},[t._v("保存")])],1)],1)],1)},staticRenderFns:[]};var S=function(t){i("46F4")},$=i("VU/8")(w.a,A,!1,S,"data-v-3b737690",null).exports,U=i("iBt2"),x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",["list"==t.activityType?a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleAddActivity}},[t._v("添加公开课")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleAddActivityLink}},[t._v("添加公开课链接")])],1):a("el-col",{staticClass:"toolbar txt-right",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.goBack}},[t._v("取消返回")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.createActivity}},[t._v("发布")])],1),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:"list"==t.activityType,expression:"activityType == 'list'"}],attrs:{loading:t.listLoading}},[t.activityList.length>0?a("div",[t.activityList.length>0?a("ul",{staticClass:"activity-list"},t._l(t.activityList,function(e,i){return a("li",{key:i},[2==e.type?a("div",[a("div",{staticClass:"edit-wrap"},[a("span",{on:{click:function(i){t.delActivity(e.id)}}},[t._v("删除")]),t._v(" "),a("span",{on:{click:function(i){t.editActivityLink(e)}}},[t._v("编辑查看")])]),t._v(" "),a("p",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),a("p",{staticClass:"plink"},[t._v("链接: "),a("a",{attrs:{href:e.link,target:"view_window"}},[t._v(t._s(e.link))])])]):a("div",{},[a("div",{staticClass:"edit-wrap"},[a("span",{on:{click:function(i){t.delActivity(e.id)}}},[t._v("删除")]),t._v(" "),a("span",{on:{click:function(i){t.editActivity(e)}}},[t._v("编辑查看")])]),t._v(" "),a("p",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),a("p",[t._v("发布时间："+t._s(e.time))]),t._v(" "),a("p",{staticClass:"desc"},[t._v("内容："+t._s(e.remark))])])])})):t._e(),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]):a("div",{staticClass:"no-data"},[t._v("暂无数据")])]),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:"list"!==t.activityType,expression:"activityType !== 'list'"}],attrs:{loading:t.listLoading}},[a("el-form",{ref:"addActivity",attrs:{model:t.addActivity,"label-width":"100px",rules:t.addActivityRules}},[a("el-form-item",{attrs:{label:"课程名称",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入名称"},model:{value:t.addActivity.name,callback:function(e){t.$set(t.addActivity,"name",e)},expression:"addActivity.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"封面图",prop:"imgUrl"}},[a("el-upload",{staticClass:"avatar-uploader cover-uploader",attrs:{action:t.uploadUrl,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imgUrl?a("img",{staticClass:"avatar",attrs:{src:t.imgUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon cover-uploader-icon"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"时间",prop:"time"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入时间"},model:{value:t.addActivity.time,callback:function(e){t.$set(t.addActivity,"time",e)},expression:"addActivity.time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"地点",prop:"address"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入地点"},model:{value:t.addActivity.address,callback:function(e){t.$set(t.addActivity,"address",e)},expression:"addActivity.address"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("script",{staticClass:"ue-content",attrs:{id:"ueditor",name:"ueditor",type:"text/plain"}})]),t._v(" "),a("el-form-item",{attrs:{label:"视频",prop:"videoUrl"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入视频"},model:{value:t.addActivity.videoUrl,callback:function(e){t.$set(t.addActivity,"videoUrl",e)},expression:"addActivity.videoUrl"}})],1),t._v(" "),a("p",{staticClass:"add-tip"},[t._v("提示：视频请先上传到优酷等平台，然后把通用代码复制拷贝到上方")]),t._v(" "),a("img",{staticStyle:{width:"213px",height:"241px","margin-left":"100px"},attrs:{src:i("JgwY")}})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"添加链接",visible:t.activityLinkVisible,"close-on-click-modal":!1,width:"480px"},on:{"update:visible":function(e){t.activityLinkVisible=e}}},[a("el-form",{ref:"activityLink",attrs:{model:t.addActivityLink,"label-width":"100px",rules:t.addActivityLinkRules}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入"},model:{value:t.addActivityLink.name,callback:function(e){t.$set(t.addActivityLink,"name",e)},expression:"addActivityLink.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"封面图",prop:"imgUrl"}},[a("el-upload",{staticClass:"avatar-uploader cover-uploader",attrs:{action:t.uploadUrl,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imgUrl?a("img",{staticClass:"avatar",attrs:{src:t.imgUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon cover-uploader-icon"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"链接",prop:"link"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入链接"},model:{value:t.addActivityLink.link,callback:function(e){t.$set(t.addActivityLink,"link",e)},expression:"addActivityLink.link"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:3,"auto-complete":"off",placeholder:"请输入描述"},model:{value:t.addActivityLink.remark,callback:function(e){t.$set(t.addActivityLink,"remark",e)},expression:"addActivityLink.remark"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{nativeOn:{click:function(e){t.activityLinkVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.addLoading},nativeOn:{click:function(e){return t.addActivityLinkSubmit(e)}}},[t._v("保存")])],1)],1)],1)},staticRenderFns:[]};var T=function(t){i("e4xS")},I=i("VU/8")(U.a,x,!1,T,"data-v-27cb7611",null).exports,F=i("0JEe"),O={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",["list"==t.activityType?i("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleAddActivity}},[t._v("课程添加")])],1):i("el-col",{staticClass:"toolbar txt-right",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.goBack}},[t._v("取消返回")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.createActivity}},[t._v("发布")])],1),t._v(" "),i("el-col",{directives:[{name:"show",rawName:"v-show",value:"list"==t.activityType,expression:"activityType == 'list'"}],attrs:{loading:t.listLoading}},[t.activityList.length>0?i("div",[i("ul",{staticClass:"activity-list"},t._l(t.activityList,function(e,a){return i("li",{key:a},[2==e.type?i("div",[i("div",{staticClass:"edit-wrap"},[i("span",{on:{click:function(i){t.delActivity(e.id)}}},[t._v("删除")]),t._v(" "),i("span",{on:{click:function(i){t.editActivityLink(e)}}},[t._v("编辑查看")])]),t._v(" "),i("p",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),i("p",{staticClass:"plink"},[t._v("链接: "),i("a",{attrs:{href:e.link,target:"view_window"}},[t._v(t._s(e.link))])])]):i("div",{},[i("div",{staticClass:"edit-wrap"},[i("span",{on:{click:function(i){t.delActivity(e.id)}}},[t._v("删除")]),t._v(" "),i("span",{on:{click:function(i){t.editActivity(e)}}},[t._v("编辑查看")])]),t._v(" "),i("p",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),i("p",[t._v("适合年龄："+t._s(e.age))]),t._v(" "),i("p",[t._v("课时安排："+t._s(parseInt(e.zc)>0?"每学期"+e.zc+"周次":e.zc)+"，每次"+t._s(e.ksl)+"课时，共"+t._s(e.sc)+"分钟")]),t._v(" "),i("p",{staticClass:"desc"},[t._v("介绍："+t._s(e.intro))])])])})),t._v(" "),i("div",{staticClass:"block"},[i("el-pagination",{attrs:{"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]):i("div",{staticClass:"no-data"},[t._v("暂无数据")])]),t._v(" "),i("el-col",{directives:[{name:"show",rawName:"v-show",value:"list"!==t.activityType,expression:"activityType !== 'list'"}],attrs:{loading:t.listLoading}},[i("el-form",{ref:"addActivity",attrs:{model:t.addActivity,"label-width":"100px",rules:t.addActivityRules}},[i("el-form-item",{attrs:{label:"课程名称",prop:"name"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入名称"},model:{value:t.addActivity.name,callback:function(e){t.$set(t.addActivity,"name",e)},expression:"addActivity.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"课程封面",prop:"imgUrl"}},[i("el-upload",{staticClass:"avatar-uploader cover-uploader",attrs:{action:t.uploadUrl,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imgUrl?i("img",{staticClass:"avatar",attrs:{src:t.imgUrl}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon cover-uploader-icon"})])],1),t._v(" "),i("el-form-item",{attrs:{label:"适合年龄",prop:"age"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入时间"},model:{value:t.addActivity.age,callback:function(e){t.$set(t.addActivity,"age",e)},expression:"addActivity.age"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"课时安排",prop:"num"}},[i("el-col",{attrs:{span:8}},[i("span",{staticStyle:{float:"left"}},[t._v(" 每学期周次：")]),t._v(" "),i("el-col",{attrs:{span:17}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入课时安排"},model:{value:t.addActivity.zc,callback:function(e){t.$set(t.addActivity,"zc",e)},expression:"addActivity.zc"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("span",{staticStyle:{float:"left"}},[t._v(" 每次课时量：")]),t._v(" "),i("el-col",{attrs:{span:17}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入课时安排"},model:{value:t.addActivity.ksl,callback:function(e){t.$set(t.addActivity,"ksl",e)},expression:"addActivity.ksl"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("span",{staticStyle:{float:"left"}},[t._v(" 时长：")]),t._v(" "),i("el-col",{attrs:{span:14}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入课时安排"},model:{value:t.addActivity.sc,callback:function(e){t.$set(t.addActivity,"sc",e)},expression:"addActivity.sc"}})],1)],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"内容",prop:"intro"}},[i("el-input",{attrs:{type:"textarea",rows:6,"auto-complete":"off",placeholder:"请输入内容"},model:{value:t.addActivity.intro,callback:function(e){t.$set(t.addActivity,"intro",e)},expression:"addActivity.intro"}})],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"添加链接",visible:t.activityLinkVisible,"close-on-click-modal":!1,width:"480px"},on:{"update:visible":function(e){t.activityLinkVisible=e}}},[i("el-form",{ref:"activityLink",attrs:{model:t.addActivityLink,"label-width":"100px",rules:t.addActivityLinkRules}},[i("el-form-item",{attrs:{label:"名称",prop:"name"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入"},model:{value:t.addActivityLink.name,callback:function(e){t.$set(t.addActivityLink,"name",e)},expression:"addActivityLink.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"封面图",prop:"imgUrl"}},[i("el-upload",{staticClass:"avatar-uploader cover-uploader",attrs:{action:t.uploadUrl,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imgUrl?i("img",{staticClass:"avatar",attrs:{src:t.imgUrl}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon cover-uploader-icon"})])],1),t._v(" "),i("el-form-item",{attrs:{label:"链接",prop:"link"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入链接"},model:{value:t.addActivityLink.link,callback:function(e){t.$set(t.addActivityLink,"link",e)},expression:"addActivityLink.link"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"描述",prop:"remark"}},[i("el-input",{attrs:{type:"textarea",rows:3,"auto-complete":"off",placeholder:"请输入描述"},model:{value:t.addActivityLink.remark,callback:function(e){t.$set(t.addActivityLink,"remark",e)},expression:"addActivityLink.remark"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(e){t.activityLinkVisible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.addLoading},nativeOn:{click:function(e){return t.addActivityLinkSubmit(e)}}},[t._v("保存")])],1)],1)],1)},staticRenderFns:[]};var V=function(t){i("27rY")},E=i("VU/8")(F.a,O,!1,V,"data-v-e2d335ca",null).exports,N={data:function(){return{editFormVisible:!1,editLoading:!1,editFormRules:{name:[{required:!0,message:"请输入网点名称",trigger:"blur"}],address:[{required:!0,message:"请输入网点地址",trigger:"blur"}],telphone:[{required:!0,message:"请输入联系电话",trigger:"blur"}],adminName:[{required:!0,message:"请输入管理员账号",trigger:"blur"}],password:[{required:!0,message:"请输入管理员密码",trigger:"blur"}]},editForm:{name:"",address:"",telphone:null,adminName:"",password:""}}},mounted:function(){this.getOrgInfo()},methods:{getOrgInfo:function(){var t=this;d.a.orgInfo().then(function(e){"succ"===e.status?(t.editForm={name:e.data.name,address:e.data.address,telphone:e.data.telphone,adminName:e.data.adminName,password:e.data.adminPwd,groupId:e.data.groupId},sessionStorage.setItem("groupId",o()(e.data.groupId))):t.$notify({message:e.message,type:"error",duration:0})})},editSubmit:function(){var t=this;this.$refs.editForm.validate(function(e){if(e){t.editLoading=!0;var i=h()({},t.editForm);d.a.orgEdit(i).then(function(e){t.editLoading=!1,t.$notify({message:"修改信息成功",type:"success"}),t.$refs.editForm.resetFields(),t.editFormVisible=!1,t.getOrgInfo()})}})}}},R={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"org-wrap"},[i("div",{staticClass:"edit-wrap"},[i("span",{on:{click:function(e){t.editFormVisible=!0}}},[t._v("修改编辑")])]),t._v(" "),i("p",[i("span",{staticClass:"require"},[t._v("*")]),t._v(" 网点名称："+t._s(t.editForm.name))]),t._v(" "),i("p",[i("span",{staticClass:"require"},[t._v("*")]),t._v(" 网点地址："+t._s(t.editForm.address))]),t._v(" "),i("p",[i("span",{staticClass:"require"},[t._v("*")]),t._v(" 联系电话："+t._s(t.editForm.telphone))])]),t._v(" "),i("el-dialog",{attrs:{title:"编辑网点",visible:t.editFormVisible,"close-on-click-modal":!1,width:"480px"},on:{"update:visible":function(e){t.editFormVisible=e}}},[i("el-form",{ref:"editForm",attrs:{model:t.editForm,"label-width":"100px",rules:t.editFormRules}},[i("el-form-item",{attrs:{label:"网点名称",prop:"name"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.name,callback:function(e){t.$set(t.editForm,"name",e)},expression:"editForm.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"网点地址",prop:"address"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.address,callback:function(e){t.$set(t.editForm,"address",e)},expression:"editForm.address"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"联系电话",prop:"telphone"}},[i("el-input",{model:{value:t.editForm.telphone,callback:function(e){t.$set(t.editForm,"telphone",e)},expression:"editForm.telphone"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"管理员账号"}},[i("span",[t._v(t._s(t.editForm.adminName))])]),t._v(" "),i("el-form-item",{attrs:{label:"管理员密码",prop:"password"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.editForm.password,callback:function(e){t.$set(t.editForm,"password",e)},expression:"editForm.password"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(e){t.editFormVisible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.editLoading},nativeOn:{click:function(e){return t.editSubmit(e)}}},[t._v("提交")])],1)],1)],1)},staticRenderFns:[]};var q=i("VU/8")(N,R,!1,function(t){i("IsdX")},"data-v-d6daf55e",null).exports,D={name:"Course",data:function(){return{couseType:"list",editCourseVisible:!1,courseVisible:!1,listLoading:!1,courseList:[],addCourseRules:{name:[{required:!0,message:"请输入课程名称",trigger:"blur"}],feeType:[{required:!0,message:"请选择课程收费",trigger:"blur"}],reee:[{required:!0,message:"请输入学期金额",trigger:"blur"}]},addCourse:{},courseLoading:!1}},created:function(){this.getCourseList()},methods:{getCourseList:function(){var t=this;d.a.orgCourseList({groupId:JSON.parse(sessionStorage.getItem("groupId"))}).then(function(e){t.courseList=e.data.array})},handleAddCourse:function(){this.courseVisible=!0,this.addCourse={groupId:JSON.parse(sessionStorage.getItem("groupId")),name:null,feeType:1,fee:3500}},editCourse:function(t){this.addCourse={courseId:t.id,name:t.name,feeType:parseInt(t.feeType),fee:t.fee,groupId:JSON.parse(sessionStorage.getItem("groupId"))},this.courseVisible=!0},goBack:function(){this.couseType="list"},courseDel:function(t){var e=this,i=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){i.listLoading=!0,d.a.orgCourseDel({courseId:t}).then(function(t){"succ"===t.status?(i.listLoading=!1,i.getCourseList()):e.$notify({message:t.data.message,type:"error",duration:0})})})},createCourse:function(){var t=this;this.$refs.addCourse.validate(function(e){if(e){t.addLoading=!0;var i=h()({},t.addCourse);t.addCourse.CourseId?d.a.courseEdit(i).then(function(e){"succ"===e.data.status?(t.addLoading=!1,t.$notify({message:"修改课程成功",type:"success"}),t.$refs.addCourse.resetFields(),t.courseType="list",t.getCourseList()):t.$notify({message:e.data.message,type:"error",duration:0})}):d.a.courseAdd(i).then(function(e){"succ"===e.data.status?(t.addLoading=!1,t.$notify({message:"添加课程成功",type:"success"}),t.$refs.addCourse.resetFields(),t.courseType="list",t.getCourseList()):t.$notify({message:e.data.message,type:"error",duration:0})})}})},coursePublish:function(t,e,i){var a=this;d.a.orgCourseRelease({courseId:t.id,status:!e}).then(function(s){"succ"===s.status?(t.release=!e,a.$set(a.courseList,i,t)):a.$notify({message:s.data.message,type:"error",duration:0})})},courseUnpublish:function(t,e,i){var a=this;this.$confirm("确认取消发布吗?","提示",{type:"warning"}).then(function(){a.coursePublish(t,e,i)})},changeOrder:function(t){var e=this;d.a.orgCourseOrder({courseId:t.id,status:t.order}).then(function(t){"succ"===t.status||e.$notify({message:t.data.message,type:"error",duration:0})})},courseSubmit:function(){var t=this;this.$refs.addCourse.validate(function(e){if(e){t.courseLoading=!0;var i=h()({},t.addCourse);i.courseId?d.a.orgCourseEdit(i).then(function(e){"succ"===e.status?(t.courseLoading=!1,t.$notify({message:"修改课程成功",type:"success"}),t.$refs.addCourse.resetFields(),t.courseVisible=!1,t.getCourseList()):t.$notify({message:e.message,type:"error",duration:0})}):d.a.orgCourseAdd(i).then(function(e){"succ"===e.status?(t.courseLoading=!1,t.$notify({message:"添加课程成功",type:"success"}),t.$refs.addCourse.resetFields(),t.courseVisible=!1,t.getCourseList()):t.$notify({message:e.message,type:"error",duration:0})})}})}}},P={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleAddCourse}},[t._v("课程添加")])],1),t._v(" "),i("el-col",{attrs:{loading:t.listLoading}},[i("ul",{staticClass:"course-list"},t._l(t.courseList,function(e,a){return i("li",{key:a,staticClass:"course-item"},[i("div",{staticClass:"edit-wrap"},[e.release?i("span",{on:{click:function(i){t.courseUnpublish(e,e.release,a)}}},[t._v("取消发布")]):i("span",{on:{click:function(i){t.coursePublish(e,e.release,a)}}},[t._v("立即发布")]),t._v(" "),i("span",{on:{click:function(i){t.courseDel(e.id)}}},[t._v("删除")]),t._v(" "),i("span",{on:{click:function(i){t.editCourse(e)}}},[t._v("编辑查看")])]),t._v(" "),i("p",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),1==e.feeType?i("p",[t._v("价格："+t._s(e.fee)+"元/学期")]):2==e.feeType?i("p",[t._v("价格：预约面试才可录取（比如合唱团）")]):i("p",[t._v("价格：按课时计算（只适用于钢琴课，当面询价付款）")]),t._v(" "),i("p",[i("el-checkbox",{on:{change:function(i){t.changeOrder(e)}},model:{value:e.order,callback:function(i){t.$set(e,"order",i)},expression:"item.order"}},[t._v("允许预约体验")])],1)])}))]),t._v(" "),i("el-dialog",{attrs:{title:"添加/编辑课程",visible:t.courseVisible,"close-on-click-modal":!1,width:"480px"},on:{"update:visible":function(e){t.courseVisible=e}}},[i("el-form",{ref:"addCourse",attrs:{model:t.addCourse,"label-width":"100px",rules:t.addCourseRules}},[i("el-form-item",{attrs:{label:"课程名称",prop:"name"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入课程名称"},model:{value:t.addCourse.name,callback:function(e){t.$set(t.addCourse,"name",e)},expression:"addCourse.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"课程收费",prop:"feeType"}},[i("el-radio-group",{model:{value:t.addCourse.feeType,callback:function(e){t.$set(t.addCourse,"feeType",e)},expression:"addCourse.feeType"}},[i("div",{staticClass:"radio-item"},[i("el-radio",{attrs:{label:0}},[t._v("按课时算")]),t._v(" "),i("div",{staticClass:"radio-inline"},[i("span",{staticClass:"radio-tip"},[t._v("(只适用于钢琴课，当面询价付款)")])])],1),t._v(" "),i("div",{staticClass:"radio-item"},[i("el-radio",{attrs:{label:1}},[t._v("按学期算")]),t._v(" "),i("div",{staticClass:"radio-inline"},[i("span",{staticClass:"radio-tip"},[t._v("每学期金额：")]),i("el-input",{staticStyle:{width:"100px"},attrs:{"auto-complete":"off",placeholder:"请输入"},model:{value:t.addCourse.fee,callback:function(e){t.$set(t.addCourse,"fee",e)},expression:"addCourse.fee"}})],1)],1),t._v(" "),i("div",{staticClass:"radio-item"},[i("el-radio",{attrs:{label:2}},[t._v("预约面试才可录取")]),t._v(" "),i("div",{staticClass:"radio-inline"},[i("span",{staticClass:"radio-tip"},[t._v("(比如合唱团)")])])],1)])],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(e){t.courseVisible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.courseLoading},nativeOn:{click:function(e){return t.courseSubmit(e)}}},[t._v("提交")])],1)],1)],1)},staticRenderFns:[]};var B=i("VU/8")(D,P,!1,function(t){i("IrbT")},"data-v-29563f86",null).exports,J={name:"Teacher",data:function(){return{listLoading:!1,teacherList:[],courseVisible:!1,addCourse:{groupId:JSON.parse(sessionStorage.getItem("groupId")),name:null,cellphone:null,IDcard:null,imgUrl:null},addCourseRules:{name:[{required:!0,message:"请输入教师姓名",trigger:"blur"}],imgUrl:[{required:!0,message:"请输入头像",trigger:"blur"}],cellphone:[{required:!0,message:"请选手机",trigger:"blur"}],IDcard:[{required:!0,message:"请输入身份证",trigger:"blur"}]},imageUrl:"",courseLoading:!1,teacherId:null,teacherClazzList:[],clazzViewVisible:!1}},created:function(){this.getTeacherList()},methods:{getTeacherList:function(){var t=this;d.a.orgTeacherList({groupId:JSON.parse(sessionStorage.getItem("groupId"))}).then(function(e){t.teacherList=e.data.array})},selsChange:function(t){this.sels=t,this.addCourse={groupId:JSON.parse(sessionStorage.getItem("groupId")),name:null,cellphone:null,IDcard:null,imgUrl:null}},handleAddTeacher:function(){this.courseVisible=!0,this.teacherId=null,this.addCourse={groupId:null,name:null,cellphone:null,IDcard:null,imgUrl:null},this.imageUrl=null},handleAvatarSuccess:function(t,e){this.imageUrl=e.response},beforeAvatarUpload:function(t){var e=t.size/1024/1024<2;return e||this.$message.error("上传头像图片大小不能超过 2MB!"),e},beforeClose:function(){this.$refs.addCourse.resetFields()},courseSubmit:function(){var t=this;this.$refs.addCourse.validate(function(e){if(e){t.courseLoading=!0;var i=h()({},t.addCourse);i.imgUrl=t.imageUrl,i.groupId=JSON.parse(sessionStorage.getItem("groupId")),t.teacherId?(i.teacherId=t.teacherId,d.a.orgTeacherEdit(i).then(function(e){"succ"===e.status?(t.courseLoading=!1,t.$notify({message:"编辑教师成功",type:"success"}),t.$refs.addCourse.resetFields(),t.courseVisible=!1,t.getTeacherList()):t.$notify({message:e.message,type:"error",duration:0})})):d.a.orgTeacherAdd(i).then(function(e){"succ"===e.status?(t.courseLoading=!1,t.$notify({message:"添加教师成功",type:"success"}),t.$refs.addCourse.resetFields(),t.courseVisible=!1,t.getTeacherList()):t.$notify({message:e.message,type:"error",duration:0})})}})},handleDel:function(t,e){var i=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){i.listLoading=!0,d.a.orgTeacherDel({teacherId:e.teacherId}).then(function(t){"succ"===t.status?(i.listLoading=!1,i.getTeacherList()):i.$notify({message:t.message,type:"error",duration:0})})})},handleEdit:function(t){this.courseVisible=!0,this.addCourse={name:t.name,cellphone:t.cellphone,IDcard:t.IDcard,imgUrl:t.imgUrl},this.imageUrl=t.imgUrl,this.teacherId=t.teacherId,this.$refs.addCourse.resetFields()},handleClose:function(){this.$refs.addCourse.resetFields()},studentView:function(t){var e=this;this.clazzViewVisible=!0,d.a.teacherClazz({teacherId:t}).then(function(t){"succ"===t.status&&(e.teacherClazzList=t.data.array)})}}},j={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleAddTeacher}},[t._v("添加老师")])],1),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"ctable",staticStyle:{width:"100%"},attrs:{data:t.teacherList,stripe:"",border:"","highlight-current-row":""},on:{"selection-change":t.selsChange}},[i("el-table-column",{attrs:{prop:"number",label:"工号",width:"130"}}),t._v(" "),i("el-table-column",{attrs:{label:"头像",width:"60"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("img",{staticClass:"touxiang",attrs:{src:t.row.imgUrl}})]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"name",label:"名字",sortable:"",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"cellphone",label:"手机号码",sortable:"",width:"130"}}),t._v(" "),i("el-table-column",{attrs:{prop:"IDcard",label:"身份证",sortable:"",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.IDcard.substring(0,12))),i("span",{staticStyle:{color:"#63bb71"}},[t._v(t._s(e.row.IDcard.substring(12)))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"clazzNum",label:"上课的班级"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n           "+t._s(e.row.clazzNum)+"\n\n           "),i("a",{staticClass:"btn-option",attrs:{href:"javascript:;",size:"mini"},on:{click:function(i){t.studentView(e.row.teacherId)}}},[t._v("查看")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("a",{staticClass:"btn-option",attrs:{hrefr:"javascript:;",size:"mini"},on:{click:function(i){t.handleEdit(e.row)}}},[t._v("编辑")]),t._v(" "),i("a",{staticClass:"btn-option",attrs:{hrefr:"javascript:;",size:"mini"},on:{click:function(i){t.handleDel(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"添加/编辑教师",visible:t.courseVisible,"close-on-click-modal":!1,width:"480px"},on:{"update:visible":function(e){t.courseVisible=e},"before-close":t.beforeClose}},[i("el-form",{ref:"addCourse",attrs:{model:t.addCourse,"label-width":"70px",rules:t.addCourseRules}},[i("el-form-item",{attrs:{label:"姓名",prop:"name"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入姓名"},model:{value:t.addCourse.name,callback:function(e){t.$set(t.addCourse,"name",e)},expression:"addCourse.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"头像",prop:"name"}},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://api.twyxedu.com//api/upload","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.imageUrl?i("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t._v(" "),i("el-form-item",{attrs:{label:"手机",prop:"cellphone"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入手机"},model:{value:t.addCourse.cellphone,callback:function(e){t.$set(t.addCourse,"cellphone",e)},expression:"addCourse.cellphone"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"身份证",prop:"IDcard"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入身份证"},model:{value:t.addCourse.IDcard,callback:function(e){t.$set(t.addCourse,"IDcard",e)},expression:"addCourse.IDcard"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(e){t.courseVisible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.courseLoading},nativeOn:{click:function(e){return t.courseSubmit(e)}}},[t._v("提交")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"上课的班级",visible:t.clazzViewVisible,"close-on-click-modal":!1,width:"521px"},on:{"update:visible":function(e){t.clazzViewVisible=e}}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"ctable",staticStyle:{width:"100%"},attrs:{data:t.teacherClazzList,stripe:"",border:"","highlight-current-row":""}},[i("el-table-column",{attrs:{prop:"name",label:"工号",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{prop:"studentNum",label:"人数",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{prop:"teacherAName",label:"老师A",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{prop:"teacherBName",label:"老师B",width:"120"}})],1)],1)],1)},staticRenderFns:[]};var M=i("VU/8")(J,j,!1,function(t){i("lvzU")},"data-v-4abe144c",null).exports,G={name:"Clazz",data:function(){return{classType:"list",listLoading:!1,addClass:{},addClassRules:{name:[{required:!0,message:"请输入班级姓名",trigger:"blur"}],courseId:[{required:!0,message:"请选择课程",trigger:"blur"}],teacherAId:[{required:!0,message:"请选择教师",trigger:"blur"}],num:[{required:!0,message:"请输入次数",trigger:"blur"}]},courseList:[],teacherList:[],clazzList:[],clazzVisible:!1,clazzLoading:!1,addStudent:{},addStudentRules:{name:[{required:!0,message:"请输入孩子姓名",trigger:"blur"}],age:[{required:!0,message:"请输入年龄",trigger:"blur"}],sex:[{required:!0,message:"请输入性别",trigger:"blur"}],clothsize:[{required:!0,message:"请输入衣尺码",trigger:"blur"}],shoessize:[{required:!0,message:"请输入鞋尺码",trigger:"blur"}],momname:[{required:!0,message:"请输入妈妈姓名",trigger:"blur"}],momphone:[{required:!0,message:"请输入手机",trigger:"blur"}],dadname:[{required:!0,message:"请输入爸爸姓名",trigger:"blur"}],dadphone:[{required:!0,message:"请输入手机",trigger:"blur"}]},clazzId:null,studentList:[],addStudentType:2}},created:function(){var t=this;d.a.orgCourseList({groupId:JSON.parse(sessionStorage.getItem("groupId"))}).then(function(e){e.data.array.forEach(function(e){t.courseList.push({label:e.name,value:e.id})})}),d.a.orgTeacherList({groupId:JSON.parse(sessionStorage.getItem("groupId"))}).then(function(e){e.data.array.forEach(function(e){t.teacherList.push({label:e.name,value:e.teacherId})})}),this.getClazzList()},methods:{getClazzList:function(){var t=this;d.a.orgClazzList({groupId:JSON.parse(sessionStorage.getItem("groupId"))}).then(function(e){t.clazzList=e.data.array})},handleAddClass:function(){this.classType="add",this.addClass={name:null,courseId:null,teacherAId:null,teacherBId:null,num:null,time:null,duration:null}},handleEdit:function(t){this.classType="edit",this.addClass={clazzId:t.id,name:t.name,courseId:t.name,teacherAId:t.teacherAId,teacherBId:t.teacherBId,num:t.num,time:t.time,duration:t.duration}},goBack:function(){this.classType="list",this.addClass={name:null,courseId:null,teacherAId:null,teacherBId:null,num:null,time:null,duration:null},this.getClazzList()},createClass:function(){var t=this;this.$refs.addClass.validate(function(e){if(e){t.addLoading=!0;var i=h()({},t.addClass);i.clazzId?d.a.orgClazzEdit(i).then(function(e){t.addLoading=!1,"succ"===e.status?(t.$notify({message:"修改班级功",type:"success"}),t.$refs.addClass.resetFields(),t.classType="list",t.getClazzList()):t.$notify({message:e.message,type:"error",duration:0})}):d.a.orgClazzAdd(i).then(function(e){t.addLoading=!1,"succ"===e.status?(t.$notify({message:"添加班级成功",type:"success"}),t.$refs.addClass.resetFields(),t.classType="list",t.getClazzList()):t.$notify({message:e.message,type:"error",duration:0})})}})},handleDel:function(t,e){var i=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){i.listLoading=!0,d.a.orgClazzDel({clazzId:e.id}).then(function(t){"succ"===t.status?(i.listLoading=!1,i.getClazzList()):i.$notify({message:t.message,type:"error",duration:0})})})},viewStudent:function(t){this.clazzId=t,this.classType="studentList",this.getStudentList()},handleAddStudent:function(t,e){this.clazzVisible=!0,this.addStudent={clazzId:t,name:null,age:null,sex:null,clothsize:null,shoessize:null,momname:null,momphone:null,dadname:null,dadphone:null,nursery:null,address:null},this.addStudentType=e},studentSubmit:function(){var t=this;this.$refs.addStudent.validate(function(e){if(e){t.clazzLoading=!0;var i=h()({},t.addStudent);d.a.orgStudentAdd(i).then(function(e){"succ"===e.status?(t.clazzLoading=!1,t.$notify({message:"添加学生成功",type:"success"}),t.$refs.addStudent.resetFields(),t.clazzVisible=!1,2===t.addStudentType?t.getClazzList():t.getStudentList()):t.$notify({message:e.message,type:"error",duration:0})})}})},exportStudent:function(){var t=this;d.a.orgStudentExport({clazzId:this.clazzId}).then(function(e){"succ"===e.status?window.open(e.data.value):t.$notify({message:e.message,type:"error",duration:0})})},getStudentList:function(){var t=this;d.a.orgStudentList({clazzId:this.clazzId}).then(function(e){t.studentList=e.data.array})},handleStudentDel:function(t){var e=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){e.listLoading=!0,d.a.orgStudentDel({id:t.id}).then(function(t){"succ"===t.status?(e.listLoading=!1,e.getStudentList()):e.$notify({message:t.message,type:"error",duration:0})})})},viewReport:function(t){window.open("/org/report?sid="+t.studentId)}}},Y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",["list"==t.classType?i("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleAddClass}},[t._v("添加班级")])],1):"studentList"==t.classType?i("el-col",{staticClass:"toolbar txt-right",attrs:{span:24}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.goBack}},[t._v("取消返回")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.exportStudent}},[t._v("导出学生")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.handleAddStudent(t.clazzId,1)}}},[t._v("添加学生")])],1):i("el-col",{staticClass:"toolbar txt-right",attrs:{span:24}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.goBack}},[t._v("取消返回")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.createClass}},[t._v("保存")])],1),t._v(" "),"list"==t.classType?i("el-col",{},[t.clazzList.length>0?i("div",t._l(t.clazzList,function(e,a){return i("div",{key:a},[i("div",{staticClass:"clazz-name"},[t._v(t._s(e.name)+" ("+t._s(e.clazzs.length)+")")]),t._v(" "),e.clazzs.length>0?i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"ctable",staticStyle:{width:"100%"},attrs:{data:e.clazzs,stripe:"",border:"","highlight-current-row":""}},[i("el-table-column",{attrs:{prop:"name",label:"班级"}}),t._v(" "),i("el-table-column",{attrs:{label:"老师"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.teacherAName)+" / "+t._s(e.row.teacherBName)+"\n          ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"学生人数",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.studentNum)+"人 "),i("a",{staticClass:"btn-option",attrs:{hrefr:"javascript:;"},on:{click:function(i){t.viewStudent(e.row.id)}}},[t._v("查看点到/成绩")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"上课时间",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.time)+", "+t._s(e.row.duration)+"\n          ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("a",{staticClass:"btn-option",attrs:{hrefr:"javascript:;",size:"mini"},on:{click:function(i){t.handleDel(e.$index,e.row)}}},[t._v("删除")]),t._v(" "),i("a",{staticClass:"btn-option",attrs:{hrefr:"javascript:;",size:"mini"},on:{click:function(i){t.handleEdit(e.row)}}},[t._v("编辑")]),t._v(" "),i("a",{staticClass:"btn-option",attrs:{hrefr:"javascript:;",size:"mini"},on:{click:function(i){t.handleAddStudent(e.row.id,2)}}},[t._v("添加学生")])]}}])})],1):t._e()],1)})):i("div",{staticClass:"no-data"},[t._v("没有数据")])]):"studentList"==t.classType?i("el-col",{},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"ctable",staticStyle:{width:"100%"},attrs:{data:t.studentList,stripe:"",border:"","highlight-current-row":""}},[i("el-table-column",{attrs:{prop:"number",label:"学号"}}),t._v(" "),i("el-table-column",{attrs:{prop:"name",label:"学生名字"}}),t._v(" "),i("el-table-column",{attrs:{label:"年龄/性别"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.age)+" / "+t._s(e.row.sex)+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"cellphone",label:"衣尺码/鞋尺码"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.clothsize)+"/"+t._s(e.row.shoessize)+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"cellphone",label:"父母名字/手机"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.momname)),i("br"),t._v(t._s(e.row.momphone)+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"cellphone",label:"就读学校/住址"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.dadname)),i("br"),t._v(t._s(e.row.dadphone)+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"arrive",label:"点到次数"}}),t._v(" "),i("el-table-column",{attrs:{prop:"cellphone",label:"成绩"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("a",{staticClass:"btn-option",attrs:{hrefr:"javascript:;",size:"mini"},on:{click:function(i){t.viewReport(e.row)}}},[t._v("查看")])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"cellphone",label:"删除"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("a",{staticClass:"btn-option",attrs:{hrefr:"javascript:;",size:"mini"},on:{click:function(i){t.handleStudentDel(e.row)}}},[t._v("删除")])]}}])})],1)],1):i("el-col",{attrs:{loading:t.listLoading}},[i("el-form",{ref:"addClass",attrs:{model:t.addClass,"label-width":"100px",rules:t.addClassRules}},[i("el-form-item",{attrs:{label:"班级名称",prop:"name"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入班级名称"},model:{value:t.addClass.name,callback:function(e){t.$set(t.addClass,"name",e)},expression:"addClass.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"选择课程",prop:"courseId"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.addClass.courseId,callback:function(e){t.$set(t.addClass,"courseId",e)},expression:"addClass.courseId"}},t._l(t.courseList,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"上课老师",prop:"teacherAId"}},[i("el-col",{staticStyle:{"margin-bottom":"10px"},attrs:{span:24}},[i("el-col",{attrs:{span:2}},[t._v(" A：")]),t._v(" "),i("el-col",{attrs:{span:22}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.addClass.teacherAId,callback:function(e){t.$set(t.addClass,"teacherAId",e)},expression:"addClass.teacherAId"}},t._l(t.teacherList,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-col",{attrs:{span:2}},[t._v(" B：")]),t._v(" "),i("el-col",{attrs:{span:22}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.addClass.teacherBId,callback:function(e){t.$set(t.addClass,"teacherBId",e)},expression:"addClass.teacherBId"}},t._l(t.teacherList,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"课时安排",prop:"num"}},[i("el-col",{attrs:{span:8}},[i("span",{staticStyle:{float:"left"}},[t._v(" 次数：")]),t._v(" "),i("el-col",{attrs:{span:17}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入课时安排"},model:{value:t.addClass.num,callback:function(e){t.$set(t.addClass,"num",e)},expression:"addClass.num"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("span",{staticStyle:{float:"left"}},[t._v(" 时间：")]),t._v(" "),i("el-col",{attrs:{span:17}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入课时安排"},model:{value:t.addClass.time,callback:function(e){t.$set(t.addClass,"time",e)},expression:"addClass.time"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("span",{staticStyle:{float:"left"}},[t._v(" 几点到几点：")]),t._v(" "),i("el-col",{attrs:{span:14}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入课时安排"},model:{value:t.addClass.duration,callback:function(e){t.$set(t.addClass,"duration",e)},expression:"addClass.duration"}})],1)],1)],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"添加学生",visible:t.clazzVisible,"close-on-click-modal":!1,width:"560px"},on:{"update:visible":function(e){t.clazzVisible=e}}},[i("el-form",{ref:"addStudent",attrs:{model:t.addStudent,"label-width":"100px",rules:t.addStudentRules}},[i("el-form-item",{attrs:{label:"孩子姓名",prop:"name"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入孩子姓名"},model:{value:t.addStudent.name,callback:function(e){t.$set(t.addStudent,"name",e)},expression:"addStudent.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"就读幼儿园",prop:"nursery"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入就读幼儿园"},model:{value:t.addStudent.nursery,callback:function(e){t.$set(t.addStudent,"nursery",e)},expression:"addStudent.nursery"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"家庭住址",prop:"address"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入家庭住址"},model:{value:t.addStudent.address,callback:function(e){t.$set(t.addStudent,"address",e)},expression:"addStudent.address"}})],1),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"年龄",prop:"age"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入年龄"},model:{value:t.addStudent.age,callback:function(e){t.$set(t.addStudent,"age",e)},expression:"addStudent.age"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"性别",prop:"sex"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入性别"},model:{value:t.addStudent.sex,callback:function(e){t.$set(t.addStudent,"sex",e)},expression:"addStudent.sex"}})],1)],1)],1),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"衣尺码",prop:"clothsize"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入衣尺码"},model:{value:t.addStudent.clothsize,callback:function(e){t.$set(t.addStudent,"clothsize",e)},expression:"addStudent.clothsize"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"鞋尺码",prop:"shoessize"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入鞋尺码"},model:{value:t.addStudent.shoessize,callback:function(e){t.$set(t.addStudent,"shoessize",e)},expression:"addStudent.shoessize"}})],1)],1)],1),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"妈妈姓名",prop:"momname"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入妈妈姓名"},model:{value:t.addStudent.momname,callback:function(e){t.$set(t.addStudent,"momname",e)},expression:"addStudent.momname"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"手机",prop:"momphone"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入手机"},model:{value:t.addStudent.momphone,callback:function(e){t.$set(t.addStudent,"momphone",e)},expression:"addStudent.momphone"}})],1)],1)],1),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"爸爸姓名",prop:"dadname"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入爸爸姓名"},model:{value:t.addStudent.dadname,callback:function(e){t.$set(t.addStudent,"dadname",e)},expression:"addStudent.dadname"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"手机",prop:"dadphone"}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入手机"},model:{value:t.addStudent.dadphone,callback:function(e){t.$set(t.addStudent,"dadphone",e)},expression:"addStudent.dadphone"}})],1)],1)],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(e){t.clazzVisible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.clazzLoading},nativeOn:{click:function(e){return t.studentSubmit(e)}}},[t._v("提交")])],1)],1)],1)},staticRenderFns:[]};var Q=i("VU/8")(G,Y,!1,function(t){i("LqxL")},"data-v-32402c50",null).exports,H={name:"Baoming",data:function(){return{studentList:[],distVisible:!1,listLoading:!1,addDist:{},courseLoading:!1,addDistRules:{name:[{required:!0,message:"请输入课程名称",trigger:"blur"}]},name:1,remark:null,remarkVisible:!1,clazzList:[],clazzOption:[],clazzId:null,id:null,courseOptions:[],course:null,payOptions:[{label:"未支付",value:"未支付"},{label:"已支付",value:"已支付"}],payment:null,age:null,ageOptions:[{label:"3-5岁",value:"3,5"},{label:"5-7岁",value:"5,7"},{label:"7-9岁",value:"7,9"},{label:"9-12岁",value:"9,12"}]}},created:function(){this.getStudentList(),this.getCourseList()},methods:{getStudentList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;d.a.orgCourseStudentList({groupId:JSON.parse(sessionStorage.getItem("groupId")),type:e}).then(function(e){t.studentList=e.data.array})},getCourseList:function(){var t=this;d.a.orgCourseList({groupId:JSON.parse(sessionStorage.getItem("groupId"))}).then(function(e){e.data.array.forEach(function(e,i){t.courseOptions.push({value:e.id,label:e.name})})})},handleClazz:function(t){this.distVisible=!0,this.id=t.id,this.getCourseClazz(t.courseId)},getCourseClazz:function(t){var e=this;this.clazzOption=[],d.a.orgCourseClazz({courseId:t}).then(function(t){t.data.array.forEach(function(t,i){e.clazzOption.push({id:t.id,name:t.name})})})},handleDel:function(t,e){var i=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){i.listLoading=!0,d.a.orgCourseStudentDel({id:e.id}).then(function(t){"succ"===t.status?(i.listLoading=!1,i.getStudentList()):i.$notify({message:t.message,type:"error",duration:0})})})},handledistribution:function(){this.distVisible=!0},viewRemark:function(t){this.remark=t.remark,this.remarkVisible=!0},distSubmit:function(){var t=this;d.a.orgCourseAddClazz({id:this.id,clazzId:this.clazzId}).then(function(e){"succ"===e.status?(t.distVisible=!1,t.$notify({message:"分配班级成功",type:"success"}),t.getStudentList()):t.$notify({message:e.message,type:"error",duration:0})})},studentPay:function(t){var e=this;"未支付"===t.payStatus?this.$confirm("该用户状态改为已支付?","提示",{type:"warning"}).then(function(){d.a.studentPayStatus({id:t.id,status:"已支付"}).then(function(i){"succ"===i.status?(e.$notify({message:t.name+"同学支付成功",type:"success"}),e.getStudentList()):e.$notify({message:i.message,type:"error",duration:0})})}):this.$confirm("该用户已支付","提示",{type:"warning"}).then(function(){})}}},X={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("el-col",{staticStyle:{"text-align":"right"}},[i("el-select",{attrs:{placeholder:"请选择课程"},model:{value:t.course,callback:function(e){t.course=e},expression:"course"}},t._l(t.courseOptions,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),i("el-select",{attrs:{placeholder:"请选择支付状态"},model:{value:t.payment,callback:function(e){t.payment=e},expression:"payment"}},t._l(t.payOptions,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),i("el-select",{attrs:{placeholder:"请选择年龄"},model:{value:t.age,callback:function(e){t.age=e},expression:"age"}},t._l(t.ageOptions,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),i("el-col",[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"ctable",staticStyle:{width:"100%"},attrs:{data:t.studentList,stripe:"",border:"","highlight-current-row":""}},[i("el-table-column",{attrs:{prop:"name",label:"孩子姓名",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{prop:"courseName",label:"课程名",width:"120"}}),t._v(" "),i("el-table-column",{attrs:{label:"年龄/性别",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.age)+" / "+t._s(e.row.sex)+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"母亲姓名电话"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.momname)),i("br"),t._v(t._s(e.row.momphone)+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"paymethod-wrap",on:{click:function(i){t.studentPay(e.row)}}},[i("div",{staticClass:"paymethod"},[t._v(t._s(e.row.payMethod)+"-"+t._s(e.row.payStatus)+" ")]),t._v(" "),i("br"),t._v("\n            "+t._s("微信"==e.row.payMethod?"已支付"==e.row.payStatus?"流水: ":"":"对账码: ")+"\n            "),i("span",{staticStyle:{color:"#f00"}},[t._v(t._s("微信"==e.row.payMethod&&"未支付"==e.row.payStatus?"":e.row.orderNum))])])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"cellphone",label:"提交时间/备注查看",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.createTime)+"\n          "),i("a",{staticClass:"btn-option",attrs:{hrefr:"javascript:;",size:"mini"},on:{click:function(i){t.viewRemark(e.row)}}},[t._v("查看")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("a",{staticClass:"btn-option",attrs:{href:"javascript:;",size:"mini"},on:{click:function(i){t.handleDel(e.$index,e.row)}}},[t._v("删除")]),t._v(" "),i("a",{staticClass:"btn-option",attrs:{href:"javascript:;",size:"mini"},on:{click:function(i){t.handleClazz(e.row)}}},[t._v("分配到班")])]}}])})],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"分配到班",visible:t.distVisible,"close-on-click-modal":!1,width:"480px"},on:{"update:visible":function(e){t.distVisible=e}}},[i("el-form",{ref:"addDist",attrs:{model:t.addDist,"label-width":"100px",rules:t.addDistRules}},[i("el-form-item",{attrs:{label:"",prop:"name"}},[i("el-radio-group",{model:{value:t.clazzId,callback:function(e){t.clazzId=e},expression:"clazzId"}},t._l(t.clazzOption,function(e,a){return i("el-radio",{key:a,attrs:{label:e.id}},[t._v(t._s(e.name))])}))],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(e){t.distVisible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.courseLoading},nativeOn:{click:function(e){return t.distSubmit(e)}}},[t._v("提交")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"查看备注",visible:t.remarkVisible,"close-on-click-modal":!1,width:"480px"},on:{"update:visible":function(e){t.remarkVisible=e}}},[i("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.remark?t.remark:"该用户没有填写备注"))]),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(e){t.remarkVisible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.courseLoading},nativeOn:{click:function(e){t.remarkVisible=!1}}},[t._v("提交")])],1)])],1)},staticRenderFns:[]};var K=i("VU/8")(H,X,!1,function(t){i("0zIc")},"data-v-209d16bb",null).exports,W={name:"Baoming",data:function(){return{studentList:[],distVisible:!1,listLoading:!1,addDist:{},courseLoading:!1,addDistRules:{name:[{required:!0,message:"请输入课程名称",trigger:"blur"}]},name:1,remark:null,remarkVisible:!1,clazzList:[],clazzOption:[],clazzId:null,id:null,courseOptions:[],course:null,payOptions:[{label:"未支付",value:"未支付"},{label:"已支付",value:"已支付"}],payment:null,age:null,ageOptions:[{label:"3-5岁",value:"3,5"},{label:"5-7岁",value:"5,7"},{label:"7-9岁",value:"7,9"},{label:"9-12岁",value:"9,12"}]}},created:function(){this.getStudentList(),this.getCourseList()},methods:{getStudentList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;d.a.orgCourseStudentList({groupId:JSON.parse(sessionStorage.getItem("groupId")),type:e}).then(function(e){t.studentList=e.data.array})},getCourseList:function(){var t=this;d.a.orgCourseList({groupId:JSON.parse(sessionStorage.getItem("groupId"))}).then(function(e){e.data.array.forEach(function(e,i){t.courseOptions.push({value:e.id,label:e.name})})})},handleClazz:function(t){this.distVisible=!0,this.id=t.id,this.getCourseClazz(t.courseId)},getCourseClazz:function(t){var e=this;this.clazzOption=[],d.a.orgCourseClazz({courseId:t}).then(function(t){t.data.array.forEach(function(t,i){e.clazzOption.push({id:t.id,name:t.name})})})},handleDel:function(t,e){var i=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){i.listLoading=!0,d.a.orgCourseStudentDel({id:e.id}).then(function(t){"succ"===t.status?(i.listLoading=!1,i.getStudentList()):i.$notify({message:t.message,type:"error",duration:0})})})},handledistribution:function(){this.distVisible=!0},viewRemark:function(t){this.remark=t.remark,this.remarkVisible=!0},distSubmit:function(){var t=this;d.a.orgCourseAddClazz({id:this.id,clazzId:this.clazzId}).then(function(e){"succ"===e.status?(t.distVisible=!1,t.$notify({message:"分配班级成功",type:"success"}),t.getStudentList()):t.$notify({message:"分配班级失败",type:"error",duration:0})})}}},Z={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("el-col",{staticStyle:{"text-align":"right"}},[i("el-select",{attrs:{placeholder:"请选择课程"},model:{value:t.course,callback:function(e){t.course=e},expression:"course"}},t._l(t.courseOptions,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),i("el-select",{attrs:{placeholder:"请选择支付状态"},model:{value:t.payment,callback:function(e){t.payment=e},expression:"payment"}},t._l(t.payOptions,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),i("el-select",{attrs:{placeholder:"请选择年龄"},model:{value:t.age,callback:function(e){t.age=e},expression:"age"}},t._l(t.ageOptions,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),i("el-col",[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"ctable",staticStyle:{width:"100%"},attrs:{data:t.studentList,stripe:"",border:"","highlight-current-row":""}},[i("el-table-column",{attrs:{prop:"name",label:"孩子姓名"}}),t._v(" "),i("el-table-column",{attrs:{prop:"courseName",label:"课程名"}}),t._v(" "),i("el-table-column",{attrs:{label:"年龄/性别"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.age)+" / "+t._s(e.row.sex)+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"母亲姓名电话"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.momname)),i("br"),t._v(t._s(e.row.momphone)+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.payMethod)+"-"+t._s(e.row.payStatus)+"\n        ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"cellphone",label:"提交时间/备注查看"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.createTime)+"\n          "),i("a",{staticClass:"btn-option",attrs:{hrefr:"javascript:;",size:"mini"},on:{click:function(i){t.viewRemark(e.row)}}},[t._v("查看")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("a",{staticClass:"btn-option",attrs:{href:"javascript:;",size:"mini"},on:{click:function(i){t.handleDel(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"分配到班",visible:t.distVisible,"close-on-click-modal":!1,width:"480px"},on:{"update:visible":function(e){t.distVisible=e}}},[i("el-form",{ref:"addDist",attrs:{model:t.addDist,"label-width":"100px",rules:t.addDistRules}},[i("el-form-item",{attrs:{label:"",prop:"name"}},[i("el-radio-group",{model:{value:t.clazzId,callback:function(e){t.clazzId=e},expression:"clazzId"}},t._l(t.clazzOption,function(e,a){return i("el-radio",{key:a,attrs:{label:e.id}},[t._v(t._s(e.name))])}))],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(e){t.distVisible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.courseLoading},nativeOn:{click:function(e){return t.distSubmit(e)}}},[t._v("提交")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"查看备注",visible:t.remarkVisible,"close-on-click-modal":!1,width:"480px"},on:{"update:visible":function(e){t.remarkVisible=e}}},[i("div",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.remark?t.remark:"该用户没有填写备注"))]),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(e){t.remarkVisible=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.courseLoading},nativeOn:{click:function(e){t.remarkVisible=!1}}},[t._v("提交")])],1)])],1)},staticRenderFns:[]};var tt=i("VU/8")(W,Z,!1,function(t){i("nQPx")},"data-v-435886b5",null).exports,et={name:"Clazz",data:function(){return{name:null,sId:null,clazzName:null,studentName:null,studentNum:null,comment:null,starComment:null,status:null,imageUrl:null,dialogImageUrl:"",dialogVisible:!1,checked:!1,imgList:[],imageList:[],fileList:[]}},created:function(){this.sId=this.$route.query.sid,this.name=this.$route.query.name,this.getStudentReport(this.sId)},methods:{getStudentReport:function(t){var e=this;d.a.studentReport({studentId:t}).then(function(t){"succ"===t.status&&(e.clazzName=t.data.clazzName,e.studentName=t.data.studentName,e.studentNum=t.data.studentNum,e.comment=t.data.comment,e.starComment=t.data.starComment,"已完成"===t.data.status?e.checked=!0:e.checked=!1,e.imageList=t.data.imgUrls?t.data.imgUrls.split(","):[])})},goback:function(){window.close()}}},it={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"cheader"},[i("span",{staticClass:"goback",on:{click:t.goback}},[t._v("返回")]),t._v(" "),i("div",{},[t._v(t._s(t.clazzName))])]),t._v(" "),i("div",{staticClass:"report-wrap"},[i("div",{staticClass:"report-cont"},[i("div",{staticClass:"reprot-header"},[t._m(0),t._v(" "),i("p",{staticClass:"p1"},[t._v("班级："+t._s(t.clazzName))]),t._v(" "),i("p",{staticClass:"p1"},[t._v("姓名："+t._s(t.studentName))]),t._v(" "),i("p",{staticClass:"p1"},[t._v("学号："+t._s(t.studentNum))])]),t._v(" "),i("p",{staticClass:"p2"},[t._v("老师寄语")]),t._v(" "),i("div",{staticClass:"report-commont"},[t._v(t._s(t.comment?t.comment:"老师未写寄语"))]),t._v(" "),i("p",{staticClass:"p2"},[t._v("评价")]),t._v(" "),i("div",{staticClass:"report-star"},[t._v(t._s(t.starComment?t.comment:"老师未写评价"))]),t._v(" "),i("p",{staticClass:"p2"},[t._v("成长足迹")]),t._v(" "),i("div",{staticClass:"img-list"},t._l(t.imageList,function(t,e){return i("div",{key:e,staticClass:"img"},[i("img",{attrs:{src:t}})])}))])]),t._v(" "),i("div",{staticClass:"report-bg"})])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"title"},[this._v("天唯印记"),e("br"),this._v("艺星素养发展评价报告")])}]};var at=i("VU/8")(et,it,!1,function(t){i("TKYY")},"data-v-4175cb4e",null).exports,st={name:"Clazz",data:function(){return{clazzId:null,studentList:[],times:0,curr:0,name:null}},created:function(){this.clazzId=this.$route.query.clazz,this.name=this.$route.query.name,this.getStudentList(this.clazzId)},methods:{getStudentList:function(t){var e=this;d.a.orgStudentList({clazzId:t}).then(function(t){e.studentList=t.data.array,e.curr=t.data.array[0].arrive.split("/")[0],e.times=t.data.array[0].arrive.split("/")[1],e.studentList=t.data.array.map(function(t,i){var a=t;a.arriveList=a.arriveDetail?a.arriveDetail.split(""):[];for(var s=e.curr;s<e.times;s++)a.arriveList.push("");return a})})},btnArrive:function(t,e,i){var a=this;if(parseInt(this.curr)!==i)return!1;var s=t;this.$set(s.arriveList,this.curr,2+~parseInt(e)),this.$set(this.studentList,0,s),d.a.studentArrive({id:t.id,arrive:s.arriveList.join("")}).then(function(t){"succ"===t.status?a.$notify({message:"签到成功",type:"success"}):a.$notify({message:t.message,type:"error",duration:0})})},goback:function(){window.close()}}},nt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"cheader"},[i("span",{staticClass:"goback",on:{click:t.goback}},[t._v("返回")]),t._v(" "),i("div",{},[t._v(t._s(t.name))]),t._v(" "),t._m(0)]),t._v(" "),i("el-col",{staticClass:"sign-wrap"},[i("el-table",{staticClass:"ctable sgtable",attrs:{border:"",stripe:"",data:t.studentList}},[i("el-table-column",{attrs:{prop:"number",label:"学号",width:"150"}}),t._v(" "),i("el-table-column",{attrs:{prop:"name",label:"姓名",width:"150"}}),t._v(" "),i("el-table-column",{attrs:{prop:"name",label:"点到：默认状态灰色表示未开始，点击一下是绿色表示已到，再点击一下是红色表示未到"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.arriveList,function(a,s){return i("div",{key:s},[i("div",{staticClass:"sign-item",class:{succ:"1"==a||"true"==a,err:"0"==a||"false"==a,curr:s==t.curr},on:{click:function(i){t.btnArrive(e.row,a,s)}}},[t._v(t._s(s+1))])])})}}])})],1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cintro"},[e("span",{staticClass:"succ"},[this._v("到")]),this._v(" "),e("span",{staticClass:"err"},[this._v("没到")]),this._v(" "),e("span",{staticClass:"not"},[this._v("未开始")])])}]};var rt=i("VU/8")(st,nt,!1,function(t){i("EJnm")},"data-v-6995db72",null).exports,lt={name:"Clazz",data:function(){return{name:null,sId:null,clazzName:null,studentName:null,studentNum:null,comment:null,starComment:null,status:null,imageUrl:null,dialogImageUrl:"",dialogVisible:!1,checked:!1,imgList:[],imageList:[],fileList:[]}},created:function(){this.sId=this.$route.query.sid,this.name=this.$route.query.name,this.getStudentReport(this.sId)},methods:{getStudentReport:function(t){var e=this;d.a.studentReport({studentId:t}).then(function(t){"succ"===t.status&&(e.clazzName=t.data.clazzName,e.studentName=t.data.studentName,e.studentNum=t.data.studentNum,e.comment=t.data.comment,e.starComment=t.data.starComment,"已完成"===t.data.status?e.checked=!0:e.checked=!1,e.imageList=t.data.imgUrls?t.data.imgUrls.split(","):[],e.imageList.forEach(function(t){e.fileList.push({url:t})}),e.imageList.length>=4&&(document.querySelector(".el-upload--picture-card").style.display="none"))})},studentReportEdit:function(){var t=this;d.a.studentReportEdit({studentId:this.sId,comment:this.comment,starComment:this.starComment,imgUrls:this.imageList.join(","),status:this.checked?"已完成":"已填写未完成"}).then(function(e){"succ"===e.status?t.$notify({message:"编辑成绩单成功",type:"success"}):t.$notify({message:e.message,type:"error",duration:0})})},goback:function(){window.close()},beforeUpload:function(t){var e=t.size/1024/1024<1;return e||this.$message.error("上传图片大小不能超过 1MB!"),e},handleRemove:function(t,e){var i=this;this.imageList=[],e.forEach(function(e){t&&t.response?i.imageList.push(e.response):i.imageList.push(e.url)}),this.fileList=e,this.imageList.length<4&&(document.querySelector(".el-upload--picture-card").style.display="inline-block")},handlePictureSuccess:function(t,e){this.imageList.push(e.response),this.fileList.push(e)},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},handleChange:function(t,e){e.length>=4?document.querySelector(".el-upload--picture-card").style.display="none":this.fileList=e}}},ot={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("div",{staticClass:"cheader"},[i("span",{staticClass:"goback",on:{click:t.goback}},[t._v("返回")]),t._v(" "),i("div",{},[t._v(t._s(t.clazzName))])]),t._v(" "),i("div",{staticClass:"report-wrap"},[i("div",{staticClass:"report-opt"},[i("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("填写完成")]),t._v(" "),i("a",{staticClass:"btn-save",attrs:{href:"javascript:;"},on:{click:t.studentReportEdit}},[t._v("保存")])],1),t._v(" "),i("div",{staticClass:"report-cont"},[i("div",{staticClass:"reprot-header"},[t._m(0),t._v(" "),i("p",{staticClass:"p1"},[t._v("班级："+t._s(t.clazzName))]),t._v(" "),i("p",{staticClass:"p1"},[t._v("姓名："+t._s(t.studentName))]),t._v(" "),i("p",{staticClass:"p1"},[t._v("学号："+t._s(t.studentNum))])]),t._v(" "),i("p",{staticClass:"p2"},[t._v("老师寄语")]),t._v(" "),i("div",{staticClass:"report-commont"},[i("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请老师填写孩子的综合评语"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1),t._v(" "),i("p",{staticClass:"p2"},[t._v("评价")]),t._v(" "),i("div",{staticClass:"report-star"},[i("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请老师填写孩子的评价"},model:{value:t.starComment,callback:function(e){t.starComment=e},expression:"starComment"}})],1),t._v(" "),i("p",{staticClass:"p2"},[t._v("成长足迹")]),t._v(" "),i("div",{staticClass:"report-img"},[i("el-upload",{attrs:{action:"http://api.twyxedu.com//api/upload","list-type":"picture-card","on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove,"before-upload":t.beforeUpload,"on-success":t.handlePictureSuccess,"on-change":t.handleChange,"file-list":t.fileList}},[i("i",{staticClass:"el-icon-plus"})])],1)])]),t._v(" "),i("div",{staticClass:"report-bg"}),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("img",{attrs:{width:"100%",src:t.dialogImageUrl}})])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"title"},[this._v("天唯印记"),e("br"),this._v("艺星素养发展评价报告")])}]};var dt=i("VU/8")(lt,ot,!1,function(t){i("E9Qy")},"data-v-315f8c86",null).exports;a.default.use(r.a);var ct=new r.a({mode:"history",scrollBehavior:function(){return{y:0}},routes:[{path:"/login",name:"Login",component:p},{path:"/",component:g,name:"学校管理",type:"superadmin",children:[{path:"/school/list",component:_,name:"学校网点管理"}]},{path:"/",component:g,name:"活动公告管理",type:"superadmin",children:[{path:"/news",component:$,name:"活动公告"}]},{path:"/",component:g,name:"艺星之路管理",type:"superadmin",children:[{path:"/activity",component:z,name:"艺星之路"}]},{path:"/",component:g,name:"课程设置",type:"superadmin",children:[{path:"/course/open",component:I,name:"公开课内容编辑"},{path:"/course/intro",component:E,name:"课程介绍编辑"}]},{path:"/",component:g,name:"网点管理",type:"orgadmin",children:[{path:"/org/setting",name:"网点设置",type:"orgadmin",component:q}]},{path:"/",component:g,name:"教学管理",type:"orgadmin",children:[{path:"/org/course",name:"课程",type:"orgadmin",component:B},{path:"/org/teacher",name:"老师",type:"orgadmin",component:M},{path:"/org/class",name:"班级",type:"orgadmin",component:Q}]},{path:"/org/report",name:"成功单",hidden:!0,type:"orgadmin",component:at},{path:"/",component:g,name:"报名管理",type:"orgadmin",children:[{path:"/org/signup",name:"微信报名学生处理",type:"orgadmin",component:K},{path:"/org/order",name:"微信预约体验学生处理",type:"orgadmin",component:tt}]},{path:"/",component:g,name:"班级管理",type:"teacher",children:[]},{path:"/student/arrive",name:"点到",hidden:!0,type:"teacher",component:rt},{path:"/student/report",name:"成绩单",hidden:!0,type:"teacher",component:dt}]});ct.beforeEach(function(t,e,i){"/login"===t.path&&sessionStorage.removeItem("user"),JSON.parse(sessionStorage.getItem("user"))||"/login"===t.path?i():i({path:"/login"})});var ut=ct,pt=i("NYxO"),mt=i("mUbh"),vt=i("UjVw");a.default.use(pt.a);var gt=new pt.a.Store({actions:mt,getters:vt,strict:!1}),ft=i("zL8q"),ht=i.n(ft),yt=(i("tvR6"),i("BfUi")),bt=i.n(yt);a.default.config.productionTip=!1,a.default.prototype.GLOBAL=bt.a,a.default.use(ht.a),new a.default({el:"#app",router:ut,store:gt,components:{App:n},template:"<App/>"})},QS5Q:function(t,e){},SHTk:function(t,e){},TKYY:function(t,e){},TSSa:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("gyMJ"),s={name:"Clazz",data:function(){return{clazzId:null,studentList:[],distVisible:!1,listLoading:!1,addDist:{},courseLoading:!1,addDistRules:{name:[{required:!0,message:"请输入课程名称",trigger:"blur"}]},name:1,reportTime:null,ctable:[{name:"123",number:"123456"}]}},created:function(){this.clazzId=this.$route.path.split("/")[2],this.getStudentList(this.clazzId)},methods:{getStudentList:function(t){var e=this;a.a.orgStudentList({clazzId:t}).then(function(t){e.studentList=t.data.array})},handleDel:function(t,e){var i=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){i.listLoading=!0,a.a.orgClazzDel({clazzId:e.id}).then(function(t){"succ"===t.status?(i.listLoading=!1,i.getClazzList()):i.$notify({message:t.message,type:"error",duration:0})})})},handleReoprt:function(t){this.distVisible=!0,window.open("/student/report?sid="+t.studentId)},pointTo:function(){window.open("/student/arrive?clazz="+this.clazzId+"&name="+document.querySelector(".title").innerText)},reportSend:function(){var t=this;this.$confirm("确认要发送成绩单吗?","提示",{type:"warning"}).then(function(){a.a.studentReportSend({clazzId:t.clazzId}).then(function(e){"succ"===e.status?t.$notify({message:"发送成绩单成功",type:"success"}):t.$notify({message:e.message,type:"error",duration:0})})})}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("el-col",{staticClass:"toolbar txt-right",attrs:{span:24}},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.pointTo}},[t._v("点到")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.reportSend}},[t._v("发布成绩单")])],1),t._v(" "),i("el-col",[i("div",{},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"ctable",staticStyle:{width:"100%"},attrs:{data:t.studentList,stripe:"",border:"","highlight-current-row":""}},[i("el-table-column",{attrs:{prop:"number",label:"学号"}}),t._v(" "),i("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),i("el-table-column",{attrs:{label:"年龄/性别"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.age)+" / "+t._s(e.row.sex)+"\n          ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"父母名字/手机"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.momname)+" ("+t._s(e.row.momphone)+") "),i("br"),t._v("\n            "+t._s(e.row.dadname)+" ("+t._s(e.row.dadphone)+")\n          ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"arrive",label:"点到次数"}}),t._v(" "),i("el-table-column",{attrs:{label:"成绩单"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.reportStatus))]),t._v(" "),i("a",{staticClass:"btn-option",attrs:{hrefr:"javascript:;",size:"mini"},on:{click:function(i){t.handleReoprt(e.row)}}},[t._v("查看/填写")])]}}])})],1)],1)])],1)},staticRenderFns:[]};var r=i("VU/8")(s,n,!1,function(t){i("jyaF")},"data-v-3327d285",null);e.default=r.exports},UjVw:function(t,e){},Vpqn:function(t,e,i){t.exports=i.p+"static/img/logo.1241693.png"},e4xS:function(t,e){},gyMJ:function(t,e,i){"use strict";var a=i("mw3O"),s=i.n(a),n=i("pFYg"),r=i.n(n),l=i("//Fk"),o=i.n(l),d=i("mtWM"),c=i.n(d),u=i("zL8q"),p=sessionStorage.getItem("user");p&&(p=JSON.parse(p));var m=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new o.a(function(s,n){var l={method:i,url:""+t,headers:a&&"object"===(void 0===a?"undefined":r()(a))?a:{}};l.headers["X-Requested-Page"]="json",p&&p.accesstoken&&(l.headers.accesstoken=p.accesstoken),l["GET"===i?"params":"data"]=e,c()(l).then(function(t){s(t.data)}).catch(function(t){Object(u.Message)({message:t.message,type:"error",duration:5e3}),n(t)})})},v="application/x-www-form-urlencoded";e.a={login:function(t){return m("/api/login",t,"GET")},orgListPage:function(t){return m("/api/org/list","","GET")},orgPub:function(t){return m("/api/org/pub",s.a.stringify(t),"POST",{"Content-Type":v})},orgCreate:function(t){return m("/api/org/add",s.a.stringify(t),"POST",{"Content-Type":v})},orgDel:function(t){return m("/api/org/del",s.a.stringify(t),"POST",{"Content-Type":v})},orgEdit:function(t){return m("/api/org/edit",s.a.stringify(t),"POST",{"Content-Type":v})},teacherList:function(t){return m("/api/org/list","","GET")},teacherCreate:function(t){return m("/api/org/add",s.a.stringify(t),"POST",{"Content-Type":v})},teacherDel:function(t){return m("/api/org/del",s.a.stringify(t),"POST",{"Content-Type":v})},teacherEdit:function(t){return m("/api/org/edit",s.a.stringify(t),"POST",{"Content-Type":v})},activityList:function(t){return m("/api/activity/list",t,"GET")},activityDetail:function(t){return m("/api/activity/detail",t,"GET")},activityLinkAdd:function(t){return m("/api/activity/link/add",s.a.stringify(t),"POST",{"Content-Type":v})},activityLinkEdit:function(t){return m("/api/activity/link/edit",s.a.stringify(t),"POST",{"Content-Type":v})},activityDel:function(t){return m("/api/activity/del",s.a.stringify(t),"POST",{"Content-Type":v})},activityAdd:function(t){return m("/api/activity/add",s.a.stringify(t),"POST",{"Content-Type":v})},activityEdit:function(t){return m("/api/activity/edit",s.a.stringify(t),"POST",{"Content-Type":v})},newsList:function(t){return m("/api/news/list",t,"GET")},newsDetail:function(t){return m("/api/news/detail",t,"GET")},newsLinkAdd:function(t){return m("/api/news/link/add",s.a.stringify(t),"POST",{"Content-Type":v})},newsLinkEdit:function(t){return m("/api/news/link/edit",s.a.stringify(t),"POST",{"Content-Type":v})},newsDel:function(t){return m("/api/news/del",s.a.stringify(t),"POST",{"Content-Type":v})},newsAdd:function(t){return m("/api/news/add",s.a.stringify(t),"POST",{"Content-Type":v})},newsEdit:function(t){return m("/api/news/edit",s.a.stringify(t),"POST",{"Content-Type":v})},orgInfo:function(t){var e=JSON.parse(sessionStorage.getItem("user"));return m("/api/org/info",t,"GET",{accesstoken:e.accesstoken})},orgCourseAdd:function(t){return m("/api/course/add",s.a.stringify(t),"POST",{"Content-Type":v})},orgCourseList:function(t){return m("/api/course/list",t,"GET")},orgCourseDel:function(t){return m("/api/course/del",s.a.stringify(t),"POST",{"Content-Type":v})},orgCourseEdit:function(t){return m("/api/course/edit",s.a.stringify(t),"POST",{"Content-Type":v})},orgCourseRelease:function(t){return m("/api/course/release",s.a.stringify(t),"POST",{"Content-Type":v})},orgCourseOrder:function(t){return m("/api/course/order",s.a.stringify(t),"POST",{"Content-Type":v})},orgTeacherAdd:function(t){return m("/api/teacher/add",s.a.stringify(t),"POST",{"Content-Type":v})},orgTeacherEdit:function(t){return m("/api/teacher/edit",s.a.stringify(t),"POST",{"Content-Type":v})},orgTeacherList:function(t){return m("/api/teacher/list",t,"GET")},orgTeacherDel:function(t){return m("/api/teacher/del",s.a.stringify(t),"POST",{"Content-Type":v})},orgTeacherClazz:function(t){return m("/api/teacher/clazz",s.a.stringify(t),"POST",{"Content-Type":v})},orgClazzAdd:function(t){return m("/api/clazz/add",s.a.stringify(t),"POST",{"Content-Type":v})},orgClazzEdit:function(t){return m("/api/clazz/edit",s.a.stringify(t),"POST",{"Content-Type":v})},orgClazzDel:function(t){return m("/api/clazz/del",s.a.stringify(t),"POST",{"Content-Type":v})},orgClazzList:function(t){return m("/api/clazz/list",t,"GET")},orgStudentAdd:function(t){return m("/api/student/add",s.a.stringify(t),"POST",{"Content-Type":v})},orgStudentDel:function(t){return m("/api/student/del",s.a.stringify(t),"POST",{"Content-Type":v})},orgStudentList:function(t){return m("/api/student/list",t,"GET")},orgStudentExport:function(t){return m("/api/student/export",t,"GET")},orgCourseStudentList:function(t){return m("/api/course/student/list",s.a.stringify(t),"POST",{"Content-Type":v})},orgCourseClazz:function(t){return m("/api/course/clazzs",s.a.stringify(t),"POST",{"Content-Type":v})},orgCourseAddClazz:function(t){return m("/api/course/add/clazz",s.a.stringify(t),"POST",{"Content-Type":v})},orgCourseStudentDel:function(t){return m("/api/course/student/del",s.a.stringify(t),"POST",{"Content-Type":v})},studentReportSend:function(t){return m("/api/student/report/send",s.a.stringify(t),"POST",{"Content-Type":v})},studentArrive:function(t){return m("/api/student/arrive ",s.a.stringify(t),"POST",{"Content-Type":v})},studentReport:function(t){return m("/api/student/report",s.a.stringify(t),"POST",{"Content-Type":v})},studentReportEdit:function(t){return m("/api/student/report/edit",s.a.stringify(t),"POST",{"Content-Type":v})},studentPayStatus:function(t){return m("/api/course/student/paystatus",s.a.stringify(t),"POST",{"Content-Type":v})},studentContantStatus:function(t){return m("/api/course/student/contactstatus",s.a.stringify(t),"POST",{"Content-Type":v})},teacherClazz:function(t){return m("/api/teacher/clazz",s.a.stringify(t),"POST",{"Content-Type":v})},openCalzzAdd:function(t){return m("/api/show/clazz/add",s.a.stringify(t),"POST",{"Content-Type":v})},openCalzzLinkAdd:function(t){return m("/api/show/clazz/link/add",s.a.stringify(t),"POST",{"Content-Type":v})},openCalzzDel:function(t){return m("/api/show/clazz/del",s.a.stringify(t),"POST",{"Content-Type":v})},openCalzzEdit:function(t){return m("/api/show/clazz/edit",s.a.stringify(t),"POST",{"Content-Type":v})},openCalzzLinkEdit:function(t){return m("/api/show/clazz/link/edit",s.a.stringify(t),"POST",{"Content-Type":v})},openCalzzList:function(t){return m("/api/show/clazz/list",s.a.stringify(t),"POST",{"Content-Type":v})},openCalzzDetail:function(t){return m("/api/show/clazz/detail",s.a.stringify(t),"POST",{"Content-Type":v})},openCourseAdd:function(t){return m("/api/show/course/add",s.a.stringify(t),"POST",{"Content-Type":v})},openCourseDel:function(t){return m("/api/show/course/del",s.a.stringify(t),"POST",{"Content-Type":v})},openCourseEdit:function(t){return m("/api/show/course/edit",s.a.stringify(t),"POST",{"Content-Type":v})},openCourseList:function(t){return m("/api/show/course/list",s.a.stringify(t),"POST",{"Content-Type":v})}}},hkUs:function(t,e,i){"use strict";(function(t){var a=i("woOf"),s=i.n(a),n=i("gyMJ");e.a={data:function(){return{activityLinkVisible:!1,imgUrl:null,addActivityLink:{name:null,imgUrl:null,link:null,remark:null},addActivityLinkRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],imgUrl:[{required:!0,message:"请添加封面图",trigger:"blur"}],link:[{required:!0,message:"请输入链接",trigger:"blur"}],remark:[{required:!0,message:"请输入描述",trigger:"blur"}]},addLoading:!1,activityList:[],listLoading:!1,activityType:"list",addActivity:{name:null,imgUrl:null,content:null,videoUrl:null,remark:null},addActivityRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],imgUrl:[{required:!0,message:"请添加封面图",trigger:"blur"}],content:[{required:!0,message:"请输入内容",trigger:"blur"}]},uploadUrl:t.UPLOADURL,page:1,pageSize:10,total:0}},created:function(){this.getActivityList()},methods:{getActivityList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=e,this.listLoading=!0,n.a.newsList({page:this.page,pageSize:this.pageSize}).then(function(e){t.activityList=e.data.array,t.total=e.data.total,t.listLoading=!1})},handleAddActivity:function(){if(this.activityType="add",this.editor){var t=this;this.editor=window.UE.getEditor("ueditor"),this.editor.ready(function(){t.editor.setContent("")})}else this.editor=window.UE.getEditor("ueditor");this.$refs.addActivity.resetFields()},handleAddActivityLink:function(){this.imgUrl=null,this.addActivityLink={name:null,imgUrl:null,link:null,remark:null},this.activityLinkVisible=!0},handleAvatarSuccess:function(t,e){this.imgUrl=e.response,this.addActivity.imgUrl=e.response,this.addActivityLink.imgUrl=e.response},beforeAvatarUpload:function(t){var e=t.size/1024/1024<2;return e||this.$message.error("上传头像图片大小不能超过 2MB!"),e},addActivityLinkSubmit:function(){var t=this;this.addActivityLink.imgUrl=this.imgUrl,this.$refs.activityLink.validate(function(e){if(e){t.addLoading=!0;var i=s()({},t.addActivityLink);t.addActivityLink.newsId?n.a.newsLinkEdit(i).then(function(e){t.addLoading=!1,t.$notify({message:"修改活动公告链接成功",type:"success"}),t.$refs.activityLink.resetFields(),t.activityLinkVisible=!1,t.getActivityList(t.page)}):n.a.newsLinkAdd(i).then(function(e){t.addLoading=!1,t.$notify({message:"添加活动公告链接成功",type:"success"}),t.$refs.activityLink.resetFields(),t.activityLinkVisible=!1,t.getActivityList()})}})},delActivity:function(t){var e=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){e.listLoading=!0,n.a.newsDel({newsId:t}).then(function(t){e.listLoading=!1,e.getActivityList(e.page)})}).catch(function(){})},editActivityLink:function(t){this.addActivityLink={newsId:t.id,name:t.name,link:t.link,imgUrl:t.imgUrl,remark:t.remark},this.imgUrl=t.imgUrl,this.addActivityLink.imgUrl=t.imgUrl,this.addActivity.imgUrl=t.imgUrl,this.activityLinkVisible=!0},editActivity:function(t){var e=this;n.a.newsDetail({newsId:t.id}).then(function(i){if("succ"===i.status)if(e.addActivity={newsId:i.data.id,name:i.data.name,imgUrl:i.data.imgUrl,content:i.data.content,videoUrl:i.data.videoUrl,remark:i.data.remark},e.imgUrl=t.imgUrl,e.addActivityLink.imgUrl=i.data.imgUrl,e.addActivity.imgUrl=i.data.imgUrl,e.activityType="edit",e.editor){var a=e;e.editor=window.UE.getEditor("ueditor"),e.editor.ready(function(){a.editor.setContent(i.data.content)})}else{var s=e;e.editor=window.UE.getEditor("ueditor"),e.editor.ready(function(){s.editor.setContent(i.data.content)})}else e.$notify({message:i.message,type:"error",duration:0})})},goBack:function(){this.activityType="list",this.imgUrl=null,this.addActivity={name:null,time:null,imgUrl:null,address:null,content:null,videoUrl:null,remark:null}},createActivity:function(){var t=this;this.addActivityLink.imgUrl=this.imgUrl,this.addActivity.content=this.editor.getContent(),this.addActivity.remark=this.editor.getContentTxt(),this.$refs.addActivity.validate(function(e){if(e){t.addLoading=!0;var i=s()({},t.addActivity);t.addActivity.newsId?n.a.newsEdit(i).then(function(e){t.addLoading=!1,t.$notify({message:"修改活动公告成功",type:"success"}),t.$refs.addActivity.resetFields(),t.activityType="list",t.getActivityList(t.page)}):n.a.newsAdd(i).then(function(e){t.addLoading=!1,t.$notify({message:"添加活动公告成功",type:"success"}),t.$refs.addActivity.resetFields(),t.activityType="list",t.getActivityList()})}})},handleSizeChange:function(t){this.getActivityList(t)},handleCurrentChange:function(t){this.getActivityList(t)}}}}).call(e,i("DuR2"))},iBt2:function(t,e,i){"use strict";(function(t){var a=i("woOf"),s=i.n(a),n=i("gyMJ");e.a={data:function(){return{editor:null,imgUrl:null,activityLinkVisible:!1,addActivityLink:{name:null,link:null,imgUrl:null,remark:null},addActivityLinkRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],imgUrl:[{required:!0,message:"请添加封面图",trigger:"blur"}],link:[{required:!0,message:"请输入链接",trigger:"blur"}],remark:[{required:!0,message:"请输入描述",trigger:"blur"}]},addLoading:!1,activityList:[],listLoading:!1,activityType:"list",addActivity:{name:null,time:null,address:null,content:null,videoUrl:null,remark:null},addActivityRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],time:[{required:!0,message:"请输入时间",trigger:"blur"}],address:[{required:!0,message:"请输入地点",trigger:"blur"}],content:[{required:!0,message:"请输入内容",trigger:"blur"}]},uploadUrl:t.UPLOADURL,page:1,pageSize:10,total:0}},created:function(){this.getActivityList()},methods:{getActivityList:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.listLoading=!0,n.a.openCalzzList({page:this.page,pageSize:this.pageSize}).then(function(e){t.activityList=e.data.array,t.total=e.data.total,t.listLoading=!1})},handleAddActivity:function(){if(this.activityType="add",this.editor){var t=this;this.editor=window.UE.getEditor("ueditor"),this.editor.ready(function(){t.editor.setContent("")})}else this.editor=window.UE.getEditor("ueditor");this.$refs.addActivity.resetFields(),this.getActivityList()},handleAddActivityLink:function(){this.imgUrl=null,this.addActivityLink={name:null,link:null,imgUrl:null,remark:null},this.activityLinkVisible=!0},addActivityLinkSubmit:function(){var t=this;this.addActivityLink.imgUrl=this.imgUrl,this.$refs.activityLink.validate(function(e){if(e){t.addLoading=!0;var i=s()({},t.addActivityLink);t.addActivityLink.showId?n.a.openCalzzLinkEdit(i).then(function(e){"succ"===e.status?(t.addLoading=!1,t.$notify({message:"修改公开课链接成功",type:"success"}),t.$refs.activityLink.resetFields(),t.activityLinkVisible=!1,t.getActivityList(t.page)):t.$notify({message:e.message,type:"error",duration:0})}):n.a.openCalzzLinkAdd(i).then(function(e){"succ"===e.status?(t.addLoading=!1,t.$notify({message:"添加公开课链接成功",type:"success"}),t.$refs.activityLink.resetFields(),t.activityLinkVisible=!1,t.getActivityList(t.page)):t.$notify({message:e.message,type:"error",duration:0})})}})},delActivity:function(t){var e=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){e.listLoading=!0,n.a.openCalzzDel({showId:t}).then(function(t){e.listLoading=!1,e.getActivityList(e.page)})}).catch(function(){})},editActivityLink:function(t){this.addActivityLink={showId:t.id,name:t.name,link:t.link,imgUrl:t.imgUrl,remark:t.remark},this.imgUrl=t.imgUrl,this.addActivityLink.imgUrl=t.imgUrl,this.addActivity.imgUrl=t.imgUrl,this.activityLinkVisible=!0},editActivity:function(t){var e=this;n.a.openCalzzDetail({showId:t.id}).then(function(i){if("succ"===i.status)if(e.addActivity={showId:i.data.id,name:i.data.name,time:i.data.time,address:i.data.address,content:i.data.content,videoUrl:i.data.videoUrl,remark:i.data.remark},e.imgUrl=t.imgUrl,e.addActivityLink.imgUrl=t.imgUrl,e.addActivity.imgUrl=t.imgUrl,e.activityType="edit",e.editor){var a=e;e.editor=window.UE.getEditor("ueditor"),e.editor.ready(function(){a.editor.setContent(i.data.content)})}else{var s=e;e.editor=window.UE.getEditor("ueditor"),e.editor.ready(function(){s.editor.setContent(i.data.content)})}else e.$notify({message:i.message,type:"error",duration:0})})},goBack:function(){this.activityType="list",this.addActivity={name:null,time:null,address:null,content:null,videoUrl:null,remark:null}},handleAvatarSuccess:function(t,e){this.imgUrl=e.response},beforeAvatarUpload:function(t){var e=t.size/1024/1024<2;return e||this.$message.error("上传头像图片大小不能超过 2MB!"),e},createActivity:function(){var t=this;this.addActivity.content=this.editor.getContent(),this.addActivity.remark=this.editor.getContentTxt(),this.addActivity.imgUrl=this.imgUrl,this.$refs.addActivity.validate(function(e){if(e){t.addLoading=!0;var i=s()({},t.addActivity);t.addActivity.showId?n.a.openCalzzEdit(i).then(function(e){t.addLoading=!1,t.$notify({message:"修改公开课成功",type:"success"}),t.$refs.addActivity.resetFields(),t.activityType="list",t.getActivityList(t.page)}):n.a.openCalzzAdd(i).then(function(e){t.addLoading=!1,t.$notify({message:"添加公开课成功",type:"success"}),t.$refs.addActivity.resetFields(),t.activityType="list",t.getActivityList()})}})},handleSizeChange:function(t){this.getActivityList(t)},handleCurrentChange:function(t){this.getActivityList(t)}}}}).call(e,i("DuR2"))},jyaF:function(t,e){},lvzU:function(t,e){},mUbh:function(t,e){},nQPx:function(t,e){},"p+ZY":function(t,e){},"s+f2":function(t,e,i){"use strict";(function(t){var a=i("woOf"),s=i.n(a),n=i("gyMJ");e.a={data:function(){return{editor:null,imgUrl:null,activityLinkVisible:!1,addActivityLink:{name:null,link:null,imgUrl:null,remark:null},addActivityLinkRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],imgUrl:[{required:!0,message:"请添加封面图",trigger:"blur"}],link:[{required:!0,message:"请输入链接",trigger:"blur"}],remark:[{required:!0,message:"请输入描述",trigger:"blur"}]},addLoading:!1,activityList:[],listLoading:!1,activityType:"list",addActivity:{name:null,time:null,address:null,content:null,videoUrl:null,remark:null},addActivityRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],time:[{required:!0,message:"请输入时间",trigger:"blur"}],address:[{required:!0,message:"请输入地点",trigger:"blur"}],content:[{required:!0,message:"请输入内容",trigger:"blur"}]},uploadUrl:t.UPLOADURL,page:1,pageSize:10,total:0}},created:function(){this.getActivityList()},methods:{getActivityList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=e,this.listLoading=!0,n.a.activityList({page:this.page,pageSize:this.pageSize}).then(function(e){t.activityList=e.data.array,t.total=e.data.total,t.listLoading=!1})},handleAddActivity:function(){if(this.activityType="add",this.editor){var t=this;this.editor=window.UE.getEditor("ueditor"),this.editor.ready(function(){t.editor.setContent("")})}else this.editor=window.UE.getEditor("ueditor");this.$refs.addActivity.resetFields()},handleAddActivityLink:function(){this.imgUrl=null,this.addActivityLink={name:null,link:null,imgUrl:null,remark:null},this.activityLinkVisible=!0},addActivityLinkSubmit:function(){var t=this;this.addActivityLink.imgUrl=this.imgUrl,this.$refs.activityLink.validate(function(e){if(e){t.addLoading=!0;var i=s()({},t.addActivityLink);t.addActivityLink.activityId?n.a.activityLinkEdit(i).then(function(e){"succ"===e.status?(t.addLoading=!1,t.$notify({message:"修改艺星之路链接成功",type:"success"}),t.$refs.activityLink.resetFields(),t.activityLinkVisible=!1,t.getActivityList(t.page)):t.$notify({message:e.message,type:"error",duration:0})}):n.a.activityLinkAdd(i).then(function(e){"succ"===e.status?(t.addLoading=!1,t.$notify({message:"添加艺星之路链接成功",type:"success"}),t.$refs.activityLink.resetFields(),t.activityLinkVisible=!1,t.getActivityList()):t.$notify({message:e.message,type:"error",duration:0})})}})},delActivity:function(t){var e=this;this.$confirm("确认删除该记录吗?","提示",{type:"warning"}).then(function(){e.listLoading=!0,n.a.activityDel({activityId:t}).then(function(t){e.listLoading=!1,e.getActivityList(e.page)})}).catch(function(){})},editActivityLink:function(t){this.addActivityLink={activityId:t.id,name:t.name,link:t.link,imgUrl:t.imgUrl,remark:t.remark},this.imgUrl=t.imgUrl,this.addActivityLink.imgUrl=t.imgUrl,this.addActivity.imgUrl=t.imgUrl,this.activityLinkVisible=!0},editActivity:function(t){var e=this;n.a.activityDetail({activityId:t.id}).then(function(i){if("succ"===i.status)if(e.addActivity={activityId:i.data.id,name:i.data.name,time:i.data.time,address:i.data.address,content:i.data.content,videoUrl:i.data.videoUrl,remark:i.data.remark},e.imgUrl=t.imgUrl,e.addActivityLink.imgUrl=t.imgUrl,e.addActivity.imgUrl=t.imgUrl,e.activityType="edit",e.editor){var a=e;e.editor=window.UE.getEditor("ueditor"),e.editor.ready(function(){a.editor.setContent(i.data.content)})}else{var s=e;e.editor=window.UE.getEditor("ueditor"),e.editor.ready(function(){s.editor.setContent(i.data.content)})}else e.$notify({message:i.message,type:"error",duration:0})})},goBack:function(){this.activityType="list",this.addActivity={name:null,time:null,address:null,content:null,videoUrl:null,remark:null}},handleAvatarSuccess:function(t,e){this.imgUrl=e.response},beforeAvatarUpload:function(t){var e=t.size/1024/1024<2;return e||this.$message.error("上传头像图片大小不能超过 2MB!"),e},createActivity:function(){var t=this;this.addActivity.content=this.editor.getContent(),this.addActivity.remark=this.editor.getContentTxt(),this.addActivity.imgUrl=this.imgUrl,this.$refs.addActivity.validate(function(e){if(e){t.addLoading=!0;var i=s()({},t.addActivity);t.addActivity.activityId?n.a.activityEdit(i).then(function(e){t.addLoading=!1,t.$notify({message:"修改艺星之路成功",type:"success"}),t.$refs.addActivity.resetFields(),t.activityType="list",t.getActivityList(t.page)}):n.a.activityAdd(i).then(function(e){t.addLoading=!1,t.$notify({message:"添加艺星之路成功",type:"success"}),t.$refs.addActivity.resetFields(),t.activityType="list",t.getActivityList()})}})},handleSizeChange:function(t){this.getActivityList(t)},handleCurrentChange:function(t){this.getActivityList(t)}}}}).call(e,i("DuR2"))},tvR6:function(t,e){}},["NHnr"]);